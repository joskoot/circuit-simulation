<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Digital Circuits</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Digital Circuits</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Preface%29" class="tocviewlink" data-pltdoc="x">Preface</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._introduction%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.How_to_proceed%29" class="tocviewlink" data-pltdoc="x">How to proceed</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.D-flip-flop-section%29" class="tocviewlink" data-pltdoc="x">Example:<span class="mywbr"> &nbsp;</span> a D-<wbr></wbr>flip-<wbr></wbr>flop</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._.Ternary._logic%29" class="tocviewlink" data-pltdoc="x">Ternary logic</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="#%28part._binary%29" class="tocviewlink" data-pltdoc="x">Binary logic</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="#%28part._agenda%29" class="tocviewlink" data-pltdoc="x">Agenda</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="#%28part._wires%29" class="tocviewlink" data-pltdoc="x">Wires</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="#%28part._.Circuit_constructors%29" class="tocviewlink" data-pltdoc="x">Circuit constructors</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="#%28part._gate%29" class="tocviewlink" data-pltdoc="x">Gates</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="#%28part._.Logical_functions%29" class="tocviewlink" data-pltdoc="x">Logical functions</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="#%28part._truth._tables%29" class="tocviewlink" data-pltdoc="x">Truth tables</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="#%28part._.More._examples%29" class="tocviewlink" data-pltdoc="x">More examples</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="#%28part._.Exact_timing_%29" class="tocviewlink" data-pltdoc="x">Exact timing?</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Digital_.Circuits%29" class="tocsubseclink" data-pltdoc="x">Digital Circuits</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Preface%29" class="tocsubseclink" data-pltdoc="x">Preface</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._introduction%29" class="tocsubseclink" data-pltdoc="x">Introduction</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.How_to_proceed%29" class="tocsubseclink" data-pltdoc="x">How to proceed</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.D-flip-flop-section%29" class="tocsubseclink" data-pltdoc="x">Example:<span class="mywbr"> &nbsp;</span> a D-<wbr></wbr>flip-<wbr></wbr>flop</a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Ternary._logic%29" class="tocsubseclink" data-pltdoc="x">Ternary logic</a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.F%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.T%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._trits%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">trits</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._in-trits%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">in-<wbr></wbr>trits</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._trit~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.F~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">F?</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.T~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">T?</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._~3f~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">??</span></span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._trit-case%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">trit-<wbr></wbr>case</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._trit-combinations%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">trit-<wbr></wbr>combinations</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._binary%29" class="tocsubseclink" data-pltdoc="x">Binary logic</a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._bits%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">bits</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._in-bits%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">in-<wbr></wbr>bits</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._bit~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">bit?</span></span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._bit-case%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">bit-<wbr></wbr>case</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._bit-combinations%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">bit-<wbr></wbr>combinations</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">7<tt>&nbsp;</tt></span><a href="#%28part._agenda%29" class="tocsubseclink" data-pltdoc="x">Agenda</a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._current-agenda%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-<wbr></wbr>agenda</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._agenda-make%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-<wbr></wbr>make</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._agenda~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda?</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._agenda-reset%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-<wbr></wbr>reset!</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._agenda-empty~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-<wbr></wbr>empty?</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._agenda-time%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-<wbr></wbr>time</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._agenda-execute%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-<wbr></wbr>execute!</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._agenda-time-limit%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-<wbr></wbr>time-<wbr></wbr>limit</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._agenda-schedule%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-<wbr></wbr>schedule!</span></span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._agenda-sequence%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-<wbr></wbr>sequence!</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._agenda-report%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-<wbr></wbr>report</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._report-time-width%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">report-<wbr></wbr>time-<wbr></wbr>width</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._report-wire-width%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">report-<wbr></wbr>wire-<wbr></wbr>width</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._report-hidden%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">report-<wbr></wbr>hidden</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._reset-hidden-cntr%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">reset-<wbr></wbr>hidden-<wbr></wbr>cntr!</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">8<tt>&nbsp;</tt></span><a href="#%28part._wires%29" class="tocsubseclink" data-pltdoc="x">Wires</a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._wire-make%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-<wbr></wbr>make</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._wire-init-signal%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-<wbr></wbr>init-<wbr></wbr>signal</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._wire~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._wire-name%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-<wbr></wbr>name</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._wire-signal%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-<wbr></wbr>signal</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._wire-print%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-<wbr></wbr>print</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._wire-println%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-<wbr></wbr>println</span></span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._define-wires%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">define-<wbr></wbr>wires</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._wire-nr-of-actions%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-<wbr></wbr>nr-<wbr></wbr>of-<wbr></wbr>actions</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">9<tt>&nbsp;</tt></span><a href="#%28part._.Circuit_constructors%29" class="tocsubseclink" data-pltdoc="x">Circuit constructors</a></td></tr><tr><td><a href="#%28form._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._make-circuit-constr%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">make-<wbr></wbr>circuit-<wbr></wbr>constr</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._circuit-constr~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">circuit-<wbr></wbr>constr?</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._circuit-constr-name%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">circuit-<wbr></wbr>constr-<wbr></wbr>name</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">10<tt>&nbsp;</tt></span><a href="#%28part._gate%29" class="tocsubseclink" data-pltdoc="x">Gates</a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.Not%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.Nand%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.Nand3%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand3</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.And%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.Or%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">Or</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.Nor%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nor</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.Xor%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">Xor</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.And3%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">And3</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.Or3%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">Or3</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.Nor3%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nor3</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.If%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">If</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.Imply%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">Imply</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.Delay%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">Delay</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">11<tt>&nbsp;</tt></span><a href="#%28part._.Logical_functions%29" class="tocsubseclink" data-pltdoc="x">Logical functions</a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.Not-function%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">Not-<wbr></wbr>function</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.And-function%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">And-<wbr></wbr>function</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.Nand-function%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand-<wbr></wbr>function</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.Or-function%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">Or-<wbr></wbr>function</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.Nor-function%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nor-<wbr></wbr>function</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.Xor-function%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">Xor-<wbr></wbr>function</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.If-function%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">If-<wbr></wbr>function</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._.Imply-function%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">Imply-<wbr></wbr>function</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._circuit-simulation%2Fcircuits..rkt%29._make-gate%2A-constr%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">make-<wbr></wbr>gate*-<wbr></wbr>constr</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">12<tt>&nbsp;</tt></span><a href="#%28part._truth._tables%29" class="tocsubseclink" data-pltdoc="x">Truth tables</a></td></tr><tr><td><span class="tocsublinknumber">13<tt>&nbsp;</tt></span><a href="#%28part._.More._examples%29" class="tocsubseclink" data-pltdoc="x">More examples</a></td></tr><tr><td><span class="tocsublinknumber">13.1<tt>&nbsp;</tt></span><a href="#%28part._.Synchronization%29" class="tocsubseclink" data-pltdoc="x">Synchronization</a></td></tr><tr><td><span class="tocsublinknumber">13.2<tt>&nbsp;</tt></span><a href="#%28part._.Clock%29" class="tocsubseclink" data-pltdoc="x">Clock</a></td></tr><tr><td><span class="tocsublinknumber">13.3<tt>&nbsp;</tt></span><a href="#%28part._.Addition%29" class="tocsubseclink" data-pltdoc="x">Addition</a></td></tr><tr><td><span class="tocsublinknumber">13.4<tt>&nbsp;</tt></span><a href="#%28part._twin-flip-flop-section%29" class="tocsubseclink" data-pltdoc="x">Twin-<wbr></wbr>flip-<wbr></wbr>flop</a></td></tr><tr><td><span class="tocsublinknumber">14<tt>&nbsp;</tt></span><a href="#%28part._.Exact_timing_%29" class="tocsubseclink" data-pltdoc="x">Exact timing?</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><h2 class="heading"><a name="(part._.Digital_.Circuits)"></a><a name="(mod-path._circuit-simulation/circuits)"></a>Digital Circuits<span class="button-group"><a href="#(part._.Digital_.Circuits)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Jacob J. A. Koot</p></span></div><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">circuit-simulation/circuits</span></a><span class="RktPn">)</span></td></tr></table></p><h3 class="heading">1<tt>&nbsp;</tt><a name="(part._.Preface)"></a>Preface<span class="button-group"><a href="#(part._.Preface)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h3><p>Modul <a href="circuits.rkt">circuits.rkt</a>
provides tools for digital simulation of digital circuits.
I have used some of the ideas in section
<a href="https://mitp-content-server.mit.edu/books/content/sectbyfn/books_pres_0/6515/sicp.zip/full-text/book/book-Z-H-22.html#%_sec_3.3.4">3.3.4</a> of
&#8220;<a href="https://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book.html">Structure and Inter&#173;pretation of Computer Programs</a>&#8221;
by Harold Abelson and Gerald Jay Sussman with Julie Sussman,
in particular the use of an <a href="#%28part._agenda%29" data-pltdoc="x">agenda</a>.
My module differs in many aspects, though, the agenda too.</p><p>This document intentionally contains some repetitions of the same or similar phrases in order to
avoid hyperlinks where text is relevant on the spot.</p><h3 class="heading">2<tt>&nbsp;</tt><a name="(part._introduction)"></a>Introduction<span class="button-group"><a href="#(part._introduction)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h3><p>Digital circuits consist of <a href="#%28part._gate%29" data-pltdoc="x">gates</a> and <a href="#%28part._wires%29" data-pltdoc="x">wires</a>.
Circuits are made by circuit constructors,
which them&#173;selves can be made with syntax <span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span>.
<a href="#%28part._gate%29" data-pltdoc="x">Gates</a> are elementary circuits.
Their constructors are provided by module <a href="circuits.rkt">circuits.rkt</a>.
For each wire and each occurrence of a gate a distinct object is made.
Circuits can be nested as subcircuits in an enveloping circuit,
but at the finest grain level, all circuits consist of distinct instances of <a href="#%28part._wires%29" data-pltdoc="x">wires</a>
and distinct instances of <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span></span>, <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span></span>, <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand3</span></span></span></span> and <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Delay</span></span></span></span> gates only.
More gates are available.
These are: <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span></span>, <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">And3</span></span></span></span>, <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Or</span></span></span></span>, <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Or3</span></span></span></span>, <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nor</span></span></span></span>, <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nor3</span></span></span></span>,
<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Xor</span></span></span></span>, <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">If</span></span></span></span> and <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Imply</span></span></span></span>.
They are built with <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span></span>, <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span></span> and <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand3</span></span></span></span> gates.
The names of gates, <span class="nobreak">or rather</span> their constructors,
start with a capital letter in order not to shadow procedure <span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._not%29%29" class="RktValLink" data-pltdoc="x">not</a></span></span>
and syntaxes like <span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._and%29%29" class="RktStxLink" data-pltdoc="x">and</a></span></span>, <span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28form._%28%28lib._racket%2Fbool..rkt%29._nand%29%29" class="RktStxLink" data-pltdoc="x">nand</a></span></span>, <span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._or%29%29" class="RktStxLink" data-pltdoc="x">or</a></span></span> and <span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Delayed_Evaluation.html#%28form._%28%28lib._racket%2Fpromise..rkt%29._delay%29%29" class="RktStxLink" data-pltdoc="x">delay</a></span></span>
as provided by <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span>.</p><p><a href="#%28part._.Ternary._logic%29" data-pltdoc="x">Ternary logic</a> is used,
<span class="nobreak"><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> and <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span></span> for a determinate signal
and <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></span> for an indeterminate signal, id est, a signal not yet known.
<span class="nobreak"><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> represents false cq low</span>.
<span class="nobreak"><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> represents true cq high.</span>
When <span class="nobreak">a signal</span> changes from <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> to <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>, it is said to raise.
When it changes from <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> to <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>, it is said to drop.
If all inputs of a <a href="#%28part._gate%29" data-pltdoc="x">gate</a> are determinate, its output is determinate too.
Its output is indeterminate if one or more of the inputs are indeterminate
and various determinate outputs can be expected when replacing the indeterminate inputs
by determinate ones.
For example, an <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span></span> gate gives indeterminate output if one input is <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>
and the other one is indeterminate, for in this case the output depends on which
determ<span class="sroman"><span class="roman">&#173;</span></span>inate signal will be given for the indeterminate input.
<span class="nobreak">If one</span> input is <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>, the other input is irrelevant and the output is <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>.
Section <span class="nobreak"><a href="#%28part._truth._tables%29" data-pltdoc="x">Truth tables</a></span> shows
the ternary truth tables of the predefined gates.</p><p>A <a href="#%28part._gate%29" data-pltdoc="x">gate</a> output can be connected via a <a href="#%28part._wires%29" data-pltdoc="x">wire</a>
to the inputs of one or more other gates or even to an input of the same gate itself.
<span class="nobreak">A wire</span> with bifurcations to several gate inputs is regarded as one single wire.
A circuit usually has one or more external input and output contacts.
They connect to external input and output wires.
<span class="nobreak">A wire</span> that connects a gate output with one or more gate inputs and is not an
external output wire, is an internal wire.
A wire cannot be both a gate output and an external input wire.
Every wire can be an external output wire.
An external wire of an embedded circuit can be but not necessarily is
an internal wire of the enveloping circuit.
The signals on two or more wires can mutually depend on each other,
<span class="nobreak">as for example</span> in a latch or a flip-flop.</p><p>A <a href="#%28part._wires%29" data-pltdoc="x">wire</a> preserves its signal as long as not mutated.
After mutation, the new signal is preserved up to the next mutation, and so on.
When the signals on one or more inputs of a gate change,
the signal on the output may change.
However, this change always is delayed by at least one small unit of time.
Therefore we use an <a href="#%28part._agenda%29" data-pltdoc="x">agenda</a>
that records which wires will change signal and at which times.
When a wire signal changes, all gates that have this wire as input are triggered
such as to compute new outputs and to schedule mutations of the output signals.
When the signals of two or more inputs of a gate change at the same time,
the gate is triggered once only with the new signals on all its inputs.
<span class="nobreak">If none</span> of the inputs change, the gate is not triggered.
When a gate is triggered but the new input signals do not change the output,
no mutation of the output wire is scheduled.</p><h3 class="heading">3<tt>&nbsp;</tt><a name="(part._.How_to_proceed)"></a>How to proceed<span class="button-group"><a href="#(part._.How_to_proceed)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h3><p><span class="nobreak">Simulation</span> is done by procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span>,
but some preparation is required in order to make and install the circuit.
A simulation can be done in various ways, <span class="nobreak">for example</span> as follows:</p><p><div class="SIntrapara"><a name="(elem._circuit-call)"></a>
</div><div class="SIntrapara"><ol><li><p><span class="stt">(<span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span></span>
my-circuit-constr (<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span></span> <span style="font-style: italic">description</span> ...))</span><br/>
Defines a circuit constructor.
The <span style="font-style: italic"><span class="stt">description</span></span> can be a straightforward list of the elements of
a <a href="https://en.wikipedia.org/wiki/Electronic_symbol">diagram</a> of the circuit.</p></li><li><p><span class="stt">(<span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span></span><span class="hspace">&nbsp;&nbsp;</span>input-wire (<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span></span> <span style="font-style: italic">name</span> [<span style="font-style: italic">signal</span>])) ...</span><br/>
<span class="stt">(<span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span></span> output-wire (<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span></span> <span style="font-style: italic">name</span> [<span style="font-style: italic">signal</span>])) ...</span><br/>
Defines external input and output wires and initializes their signals.<br/>
Usually, but not necessarily, <span class="stt">output-wires</span> are initialized with indeterminate signal <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></span>.</p></li><li><p><span class="stt">(my-circuit-constr input-wire ... output-wire ...)</span><br/>
Installs an instance of the circuit and connects it to its external input and output wires.<br/>
The constructor returns <a href="file:///C:/Program%20Files/Racket/doc/reference/void.html" data-pltdoc="x"><span class="nobreak"><span class="stt">#&lt;void&gt;</span></span></a>, but does make a circuit behind the screen
and schedules events in the <a href="#%28part._agenda%29" data-pltdoc="x">agenda</a>.
<span class="nobreak">No simulation yet.</span></p></li><li><p><span class="stt">(<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span></span> input-wire <span style="font-style: italic">signal</span> [<span style="font-style: italic">delay</span>]) ...</span><br/>
Optionally use procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span></span> or syntax <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-sequence!</span></span></span></span>
to put signals on input wires,
either without delay or scheduled for a future time.
More than one such event can be scheduled for the same time and more than one event can be scheduled
for several times for the same wire.
Scheduling an event for the same time and wire as already scheduled, cancels the earlier one.</p></li><li><p><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span></span><br/>
Call procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span> to start or to resume the simulation.
<span class="nobreak">The first call</span> corresponds to power up of the circuit.
Special care must be taken for a circuit
with mutual dependency between the signals on its wires.
Such dependency may cause instability,
id est, oscillating signals ad infinitum on one or more wires, thus causing an infinite loop.
Parameter <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time-limit</span></span></span></span> protects against such loops:<br/>
<span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(<span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/parameters.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._parameterize%29%29" class="RktStxLink" data-pltdoc="x">parameterize</a></span></span> ((<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time-limit</span></span></span></span> <span style="font-style: italic">time-limit</span>))
(<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span>))</span><br/>
<span class="nobreak">If you want</span> a report of the simulation, call <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span> as follows:
<span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="stt"> </span><span class="RktVal">#t</span><span class="RktPn">)</span></span> or as:<br/>
<span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/parameters.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._parameterize%29%29" class="RktStxLink" data-pltdoc="x">parameterize</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-report</span></span></span><span class="stt"> </span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></span><br/>
A report shows all mutations on the wires and at which times, internal wires included.</p></li><li><p>In addition to any format or output procedure of <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span>,
procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-print</span></span></span></span> or <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-println</span></span></span></span> can be used
to see the final signals on the output wires together with their names.
Simply typing the identifiers of wires will do too.</p></li><li><p>Halt here or repeat from step 4.</p></li></ol></div></p><p>For examples see the next section and section <a href="#%28part._.More._examples%29" data-pltdoc="x">More examples</a>.</p><h3 class="heading">4<tt>&nbsp;</tt><a name="(part._.D-flip-flop-section)"></a>Example: a D-flip-flop<span class="button-group"><a href="#(part._.D-flip-flop-section)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h3><p>As introductory example a D-flip-flop.<br/>
It has two inputs, say <span class="stt">in</span> and <span class="stt">clock</span>.<br/>
It has two outputs, say <span class="stt">state</span> and <span class="nobreak"><span class="stt">state-inverse</span></span>.<br/>
Once stable, the outputs remain inverses of each other<br/>
and the following transition table applies:</p><p><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="stt">clock</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="stt">in</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>old<span class="hspace">&nbsp;</span><span class="stt">state</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>&#9474;</p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>new<span class="hspace">&nbsp;</span><span class="stt">state</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>new<span class="hspace">&nbsp;</span><span class="stt">state-inverse</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>action</p></td></tr><tr><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>any</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>&#9474;</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>reset</p></td></tr><tr><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>any</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>&#9474;</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>set</p></td></tr><tr><td align="center" style="border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p>any</p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">state</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p>&#9474;</p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">state</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p>inverse of<span class="hspace">&nbsp;</span><span class="stt">state</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left" style="border-bottom: 1px solid black;"><p>state preserved</p></td></tr></table></p><p>Hence, in order to set or reset the <span class="nobreak">D-flip-flop</span>,
set <span class="stt">in</span> to <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> cq <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> and apply a <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> pulse to the <span class="stt">clock</span>.
Leave the <span class="stt">clock</span> low at <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> in order to preserve the state
without being disturbed by changes on wire <span class="stt">in</span>.
There are several ways to construct a D-flip-flop.
The following diagram shows one consisting of four <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span></span> gates.</p><p><div class="SIntrapara"><a name="(elem._.D-flip-flop-diagram)"></a></div><div class="SIntrapara"><blockquote><p><img src="d-flip-flop.gif" alt="" width="332" height="156"/></p></blockquote></div></p><p>The D-flip-flop must be stabilized with a <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> pulse on the <span class="stt">clock</span> and <span class="stt">in</span> hold at
<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> or <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>.
When <span class="stt">clock</span>=<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> the signals on wires <span class="stt">set</span> and <span class="stt">reset</span> raise to <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>
and the two <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span></span> gates at the right of the diagram act as inverters
for the signals on wires <span class="stt">state</span> and <span class="stt">state-inverse</span>.
This means that these signals will oscillate during power up
with <span class="stt">clock</span>=<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> and the same determinate signal <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> or <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>
on wires <span class="stt">state</span> and <span class="stt">state-inverse</span>.
Raising the <span class="stt">clock</span> to <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> stabilizes the <span class="stt">state</span> and <span class="nobreak"><span class="stt">state-inverse</span></span>
such as to become inverses of each other.
<span class="nobreak">Once stabilized</span> they always end up as inverses of each other.
This is shown in the sequel.</p><p>With syntax <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span></span> a constructor for a simulator
can be made by straightforwardly listing the elements of the diagram:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">D-flip-flop-constr</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">D-flip-flop</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">name</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">in</span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">external input wires</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">state</span><span class="hspace">&nbsp;</span><span class="RktSym">state-inverse</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">external output wires</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">gates: four distinct instances</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">output       (Gate input ...)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">reset</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="hspace">&nbsp;</span><span class="RktSym">in</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">set</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="hspace">&nbsp;</span><span class="RktSym">reset</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">state</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">reset</span><span class="hspace">&nbsp;</span><span class="RktSym">state-inverse</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">state-inverse</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">set</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym">state</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><p>The order in which the gates (or subcircuits) are listed is irrelevant.
Syntax <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span></span> yields <span class="nobreak">a circuit</span> constructor.
Now define the external input and output wires.
<span class="nobreak">The internal</span> wires <span class="stt">set</span> and <span class="stt">reset</span> are taken care of
by circuit constructor <span class="nobreak"><span class="stt">D-flip-flop-constr</span></span>.
In this example <span class="stt">state-wire</span> and <span class="stt">state-inverse-wire</span> are initialized with signal <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>
in stead of the default indeterminate signal <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></span>,
because this better demonstrates the vibration during power up with <span class="nobreak"><span class="stt">clock</span>=<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>.</span>
At power up time the signal on the four wires is <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">in-wire</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">in</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">clock-wire</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">clock</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">state-wire</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">state</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">state-inverse-wire</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">state-inverse</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Now install the D-flip-flop. Procedure <span class="stt">D-flip-flop-constr</span> returns <a href="file:///C:/Program%20Files/Racket/doc/reference/void.html" data-pltdoc="x"><span class="nobreak"><span class="stt">#&lt;void&gt;</span></span></a>.
It wants four wires for its arguments:
<span class="stt">in</span> and <span class="stt">clock</span> for its inputs and <span class="stt">state</span> and <span class="stt">state-inverse</span> for its outputs.
It makes an instance of a D-flip-flop
and connects the input and output wires to the circuit.
<span class="nobreak">It also</span> schedules events in the agenda for power up. <span class="nobreak">No simulation yet.</span></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">D-flip-flop-constr</span><span class="hspace">&nbsp;</span><span class="RktSym">in-wire</span><span class="hspace">&nbsp;</span><span class="RktSym">clock-wire</span><span class="hspace">&nbsp;</span><span class="RktSym">state-wire</span><span class="hspace">&nbsp;</span><span class="RktSym">state-inverse-wire</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Put instructions in the agenda such as to apply a <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> pulse
on the <span class="stt">clock</span> from time <span class="nobreak"><span class="RktVal">10</span></span> to time <span class="nobreak"><span class="RktVal">20</span></span>.
No simulation yet.
For times <span class="nobreak"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" data-pltdoc="x">natural numbers</a></span> are used without specifying a unit.
This unit always is implied and always the same.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">------------------------------------------ clock is F at time  0</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock-wire</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">raise clock to T at time 10</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock-wire</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">20</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> drop clock to F at time 20</span></td></tr></table></blockquote><p>Now the agenda contains all information needed for the simulation.
Procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span> does the simulation.
Parameter <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-report</span></span></span></span> is set to <span class="nobreak"><span class="RktVal">#t</span></span> indicating that procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span>
must print a report.
Parameters <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">report-time-width</span></span></span></span> and <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">report-wire-width</span></span></span></span>
are used for alignment in the report.</p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">D-flip-flop-simulator</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._display%29%29" class="RktValLink" data-pltdoc="x">display</a></span><span class="hspace">&nbsp;</span><span class="RktVal">" \nInitial state: "</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-println</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">state-wire</span><span class="hspace">&nbsp;</span><span class="RktSym">state-inverse-wire</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._display%29%29" class="RktValLink" data-pltdoc="x">display</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Simulation:\n"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/parameters.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._parameterize%29%29" class="RktStxLink" data-pltdoc="x">parameterize</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-report</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">report-time-width</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">report-wire-width</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">13</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._display%29%29" class="RktValLink" data-pltdoc="x">display</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Final state: "</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-println</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">state-wire</span><span class="hspace">&nbsp;</span><span class="RktSym">state-inverse-wire</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">D-flip-flop-simulator</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut">Initial state: state=F state-inverse=F</span></p></td></tr><tr><td><p><span class="RktOut">Simulation:</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">1 : reset </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: ? -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">1 : set </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: ? -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">1 : state </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">1 : state-inverse : F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">2 : state </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">2 : state-inverse : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">3 : state </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">3 : state-inverse : F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">4 : state </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">4 : state-inverse : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">5 : state </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">5 : state-inverse : F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">6 : state </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">6 : state-inverse : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">7 : state </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">7 : state-inverse : F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">8 : state </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">8 : state-inverse : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">9 : state </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">9 : state-inverse : F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 10 : clock </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 10 : state </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 10 : state-inverse : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 11 : set </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 11 : state </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 11 : state-inverse : F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 12 : state </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 20 : clock </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 21 : set </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">Final state: state=F state-inverse=T</span></p></td></tr></table></td></tr></table></blockquote></div></p><p>Up to time 10 the clock is <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>
and the signals on wires <span class="stt">state</span> and <span class="stt">state-inverse</span> oscillate.
At time 10 the clock is raised to <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>.
This stabilizes <span class="stt">state</span> and <span class="stt">state-inverse</span> within 3 time steps
such as to become inverses of each other.
After time 12 nothing happens until at time 20 the clock is dropped to <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>,
with the only effect that internal signal <span class="stt">set</span> raises to <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>.
At this time wire <span class="stt">reset</span> has signal <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> too,
but because the <span class="stt">state</span> and <span class="stt">state-inverse</span> already are inverses of each other,
they remain stable.</p><p>At this moment the D-flip-flop is in reset state. Now setting it
by applying a <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> pulse on the <span class="stt">clock-wire</span> for 5 units of time with <span class="stt">in-wire</span>=<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>,
the <span class="stt">state</span> and <span class="nobreak"><span class="stt">state-inverse</span></span> switch almost simultaneously,
but not quite:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">in-wire</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock-wire</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock-wire</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">D-flip-flop-simulator</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut">Initial state: state=F state-inverse=T</span></p></td></tr><tr><td><p><span class="RktOut">Simulation:</span></p></td></tr><tr><td><p><span class="RktOut">time 22 : clock </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 22 : in</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 23 : reset </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 23 : set </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 24 : set </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 24 : state </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 25 : state-inverse : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 27 : clock </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 28 : reset </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">Final state: state=T state-inverse=F</span></p></td></tr></table></td></tr></table></blockquote><p>The <span class="stt">state</span> switched at time 24, whereas <span class="stt">state-inverse</span> changed at time 25.<br/>
During one unit of time <span class="stt">state</span> and <span class="stt">state-inverse</span> had the same signal <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>.<br/>
The raising output always comes one unit of time earlier than the dropping one.<br/>
Notice that the time does not avance while procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span> is not running.<br/>
The time is not reset while returning from procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span>.</p><p>Let&rsquo;s test the D-flip-flop for all binary combinations of <span class="stt">in</span>, <span class="stt">clock</span> and old <span class="stt">state</span>.</p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">test-D-flip-flop</span><span class="hspace">&nbsp;</span><span class="RktSym">flip-flop-constr</span><span class="hspace">&nbsp;</span><span class="RktPn">#:tabulate?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tabulate?</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._printf%29%29" class="RktValLink" data-pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">" ~nTesting ~s.~n"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">circuit-constr-name</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">flip-flop-constr</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Procedure test/tabulate does a test. If tabulate? is true,</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">it also prints a line of results for the table to be shown.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">test/tabulate</span><span class="hspace">&nbsp;</span><span class="RktSym">in-signal</span><span class="hspace">&nbsp;</span><span class="RktSym">clock-signal</span><span class="hspace">&nbsp;</span><span class="RktSym">old-state</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">First put the flip-flop in the desired old-state.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">in-wire</span><span class="hspace">&nbsp;</span><span class="RktSym">old-state</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock-wire</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock-wire</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Check that the flip-flop has assumed the desired state.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/when_unless.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._unless%29%29" class="RktStxLink" data-pltdoc="x">unless</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._and%29%29" class="RktStxLink" data-pltdoc="x">and</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._eq~3f%29%29" class="RktValLink" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-signal</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">state-wire</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">old-state</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._eq~3f%29%29" class="RktValLink" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-signal</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">state-inverse-wire</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not-function</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">old-state</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/exns.html#%28def._%28%28quote._~23~25kernel%29._error%29%29" class="RktValLink" data-pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">flip-flop</span><span class="hspace">&nbsp;</span><span class="RktVal">"test fails"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Send in-signal and clock-signal to the flip-flop.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">in-wire</span><span class="hspace">&nbsp;</span><span class="RktSym">in-signal</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock-wire</span><span class="hspace">&nbsp;</span><span class="RktSym">clock-signal</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Check the results.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">new-state-signal</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-signal</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">state-wire</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">new-state-inverse-signal</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-signal</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">state-inverse-wire</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._or%29%29" class="RktStxLink" data-pltdoc="x">or</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._and%29%29" class="RktStxLink" data-pltdoc="x">and</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock-signal</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._eq~3f%29%29" class="RktValLink" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">new-state-signal</span><span class="hspace">&nbsp;</span><span class="RktSym">old-state</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._eq~3f%29%29" class="RktValLink" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">new-state-inverse-signal</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not-function</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">old-state</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._and%29%29" class="RktStxLink" data-pltdoc="x">and</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock-signal</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._eq~3f%29%29" class="RktValLink" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">new-state-signal</span><span class="hspace">&nbsp;</span><span class="RktSym">in-signal</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._eq~3f%29%29" class="RktValLink" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">new-state-inverse-signal</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not-function</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">in-signal</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/exns.html#%28def._%28%28quote._~23~25kernel%29._error%29%29" class="RktValLink" data-pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">flip-flop</span><span class="hspace">&nbsp;</span><span class="RktVal">"test fails"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">If desired print results.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/when_unless.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._when%29%29" class="RktStxLink" data-pltdoc="x">when</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tabulate?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._printf%29%29" class="RktValLink" data-pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"old-state=~s</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"</span><span class="hspace">&nbsp;</span><span class="RktSym">old-state</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-println</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">#:sep</span><span class="hspace">&nbsp;</span><span class="RktVal">"</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">in-wire</span><span class="hspace">&nbsp;</span><span class="RktSym">clock-wire</span><span class="hspace">&nbsp;</span><span class="RktSym">state-wire</span><span class="hspace">&nbsp;</span><span class="RktSym">state-inverse-wire</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Install the flip-flop.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">D-flip-flop-constr</span><span class="hspace">&nbsp;</span><span class="RktSym">in-wire</span><span class="hspace">&nbsp;</span><span class="RktSym">clock-wire</span><span class="hspace">&nbsp;</span><span class="RktSym">state-wire</span><span class="hspace">&nbsp;</span><span class="RktSym">state-inverse-wire</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">First print a header for the table to be printed (if desired).</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/when_unless.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._when%29%29" class="RktStxLink" data-pltdoc="x">when</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tabulate?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._displayln%29%29" class="RktValLink" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._displayln%29%29" class="RktValLink" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"old-state</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">inputs</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">new state"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._displayln%29%29" class="RktValLink" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Now do the tests. Each test adds a line to the table (if desired).</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Call test/tabulate for all feasible binary inputs.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/for.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._for%2A%29%29" class="RktStxLink" data-pltdoc="x">for*</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">old-state</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">in-bits</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">clock-signal</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">in-bits</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">in-signal</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">in-bits</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">test/tabulate</span><span class="hspace">&nbsp;</span><span class="RktSym">in-signal</span><span class="hspace">&nbsp;</span><span class="RktSym">clock-signal</span><span class="hspace">&nbsp;</span><span class="RktSym">old-state</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Close the table.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/when_unless.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._when%29%29" class="RktStxLink" data-pltdoc="x">when</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tabulate?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._displayln%29%29" class="RktValLink" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Arriving here means that all tests passed.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> </span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._printf%29%29" class="RktValLink" data-pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Hurray, all tests passed.~n"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Now we have procedure <span class="stt">test-D-flip-flop</span> and can use it:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">test-D-flip-flop</span><span class="hspace">&nbsp;</span><span class="RktSym">D-flip-flop-constr</span><span class="hspace">&nbsp;</span><span class="RktPn">#:tabulate?</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut">Testing D-flip-flop.</span></p></td></tr><tr><td><p><span class="RktOut">&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p></td></tr><tr><td><p><span class="RktOut">old-state</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">inputs </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">new state</span></p></td></tr><tr><td><p><span class="RktOut">&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p></td></tr><tr><td><p><span class="RktOut">old-state=F</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">in=F</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">clock=F</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">state=F</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">state-inverse=T</span></p></td></tr><tr><td><p><span class="RktOut">old-state=F</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">in=T</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">clock=F</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">state=F</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">state-inverse=T</span></p></td></tr><tr><td><p><span class="RktOut">old-state=F</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">in=F</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">clock=T</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">state=F</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">state-inverse=T</span></p></td></tr><tr><td><p><span class="RktOut">old-state=F</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">in=T</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">clock=T</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">state=T</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">state-inverse=F</span></p></td></tr><tr><td><p><span class="RktOut">old-state=T</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">in=F</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">clock=F</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">state=T</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">state-inverse=F</span></p></td></tr><tr><td><p><span class="RktOut">old-state=T</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">in=T</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">clock=F</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">state=T</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">state-inverse=F</span></p></td></tr><tr><td><p><span class="RktOut">old-state=T</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">in=F</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">clock=T</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">state=F</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">state-inverse=T</span></p></td></tr><tr><td><p><span class="RktOut">old-state=T</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">in=T</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">clock=T</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">state=T</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">state-inverse=F</span></p></td></tr><tr><td><p><span class="RktOut">&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p></td></tr><tr><td><p><span class="RktOut">Hurray, all tests passed.</span></p></td></tr></table></td></tr></table></blockquote></div></p><p>The two <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span></span> gates at the right of the <a href="#%28elem._.D-flip-flop-diagram%29" data-pltdoc="x">diagram</a>
form an odd kind of SR-latch.<br/>
Compared to a regular SR-latch it interprets its S and R input as their inverses.<br/>
<span class="stt">S-inverse</span> corresponds to wire <span class="stt">reset</span> in the <a href="#%28elem._.D-flip-flop-diagram%29" data-pltdoc="x">diagram</a>.<br/>
<span class="stt">R-inverse</span> corresponds to wire <span class="stt">set</span> in the <a href="#%28elem._.D-flip-flop-diagram%29" data-pltdoc="x">diagram</a>.</p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="stt">S-inverse</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="stt">R-inverse</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>|</p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="stt">state</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="stt">state-inverse</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>action</p></td></tr><tr><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>|</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p><span class="sroman"><span style="color: red">don't do this</span></span></p></td></tr><tr><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>|</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>set</p></td></tr><tr><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>|</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>reset</p></td></tr><tr><td align="center" style="border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p>|</p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">state</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">state-inverse</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left" style="border-bottom: 1px solid black;"><p>preserve state</p></td></tr></table></div><div class="SIntrapara">The last line of this transition table applies after the latch has been stabilized<br/>
by setting or resetting it.
We can use the latch as a subcircuit in a D-flip-flop:</div></p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">make-odd-SR-latch</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">SR-latch</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">S-inverse</span><span class="hspace">&nbsp;</span><span class="RktSym">R-inverse</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">inputs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">state</span><span class="hspace">&nbsp;</span><span class="RktSym">state-inverse</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">outputs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">gates:</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">state</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">S-inverse</span><span class="hspace">&nbsp;</span><span class="RktSym">state-inverse</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">state-inverse</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">R-inverse</span><span class="hspace">&nbsp;</span><span class="RktSym">state</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">make-D-flip-flop-with-odd-SR-latch</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">D-flip-flop-with-odd-SR-latch</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">in</span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">inputs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">state</span><span class="hspace">&nbsp;</span><span class="RktSym">state-inverse</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">outputs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">gates and subcircuit:</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">S-inverse</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="hspace">&nbsp;</span><span class="RktSym">in</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">R-inverse</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="hspace">&nbsp;</span><span class="RktSym">S-inverse</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">state</span><span class="hspace">&nbsp;</span><span class="RktSym">state-inverse</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-odd-SR-latch</span><span class="hspace">&nbsp;</span><span class="RktSym">S-inverse</span><span class="hspace">&nbsp;</span><span class="RktSym">R-inverse</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">test-D-flip-flop</span><span class="hspace">&nbsp;</span><span class="RktSym">make-D-flip-flop-with-odd-SR-latch</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut">Testing D-flip-flop-with-odd-SR-latch.</span></p></td></tr><tr><td><p><span class="RktOut">Hurray, all tests passed.</span></p></td></tr></table></td></tr></table></blockquote></div></p><p>More examples in section <a href="#%28part._.More._examples%29" data-pltdoc="x">More examples</a>.</p><h3 class="heading">5<tt>&nbsp;</tt><a name="(part._.Ternary._logic)"></a>Ternary logic<span class="button-group"><a href="#(part._.Ternary._logic)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h3><p><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>constant</p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>printed as</p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>predicate</p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>description</p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>is a <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>also a <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">bit?</span></span></span></span></p></td></tr><tr><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F?</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>false, off, low</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>yes</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>yes</p></td></tr><tr><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T?</span></span></span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>true, on, high</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>yes</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>yes</p></td></tr><tr><td align="center" style="border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">?</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">??</span></span></span></span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p>indeterminate</p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p>yes</p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p>no</p></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>false/off/low, constant</p></div></div><p class="RForeground"><a name="(def._((lib._circuit-simulation/circuits..rkt)._.F))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._and%2Fc%29%29" class="RktValLink" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">bit?</span></span></span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>true/on/high, constant</p></div></div><p class="RForeground"><a name="(def._((lib._circuit-simulation/circuits..rkt)._.T))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._and%2Fc%29%29" class="RktValLink" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">bit?</span></span></span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>indeterminate, constant</p></div></div><p class="RForeground"><a name="(def._((lib._circuit-simulation/circuits..rkt)._~3f))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._and%2Fc%29%29" class="RktValLink" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._not%2Fc%29%29" class="RktValLink" data-pltdoc="x">not/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">bit?</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>constant</p></div></div><p class="RForeground"><a name="(def._((lib._circuit-simulation/circuits..rkt)._trits))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">trits</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._list%2Fc%29%29" class="RktValLink" data-pltdoc="x">list/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">bit?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">bit?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>constant</p></div></div><p class="RForeground"><a name="(def._((lib._circuit-simulation/circuits..rkt)._in-trits))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">in-trits</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/sequences.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._sequence~3f%29%29" class="RktValLink" data-pltdoc="x">sequence?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/sequences.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._in-list%29%29" class="RktValLink" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trits</span></span></span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>predicate</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._trit~3f))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>predicate</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.F~3f))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">F?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>predicate</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.T~3f))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">T?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>predicate</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._~3f~3f))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">??</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara"><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span><span class="stt"> </span><span class="RktVar">obj</span><span class="RktPn">)</span></span> yields <span class="nobreak"><span class="RktVal">#t</span></span> if <span class="nobreak"><span class="RktVar">obj</span></span> is a trit, id est, <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>, <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> or <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></span>.<br/>
Else <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span><span class="stt"> </span><span class="RktVar">obj</span><span class="RktPn">)</span></span> yields <span class="nobreak"><span class="RktVal">#f</span></span>.<br/>
<span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F?</span></span></span><span class="stt"> </span><span class="RktVar">obj</span><span class="RktPn">)</span></span> is the same as <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._eq~3f%29%29" class="RktValLink" data-pltdoc="x">eq?</a></span><span class="stt"> </span><span class="RktVar">obj</span><span class="stt"> </span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span></span>.<br/>
<span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T?</span></span></span><span class="stt"> </span><span class="RktVar">obj</span><span class="RktPn">)</span></span> is the same as <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._eq~3f%29%29" class="RktValLink" data-pltdoc="x">eq?</a></span><span class="stt"> </span><span class="RktVar">obj</span><span class="stt"> </span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span></span>.<br/>
<span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">??</span></span></span><span class="stt"> </span><span class="RktVar">obj</span><span class="RktPn">)</span></span> is the same as <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._eq~3f%29%29" class="RktValLink" data-pltdoc="x">eq?</a></span><span class="stt"> </span><span class="RktVar">obj</span><span class="stt"> </span><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span><span class="RktPn">)</span></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._circuit-simulation/circuits..rkt)._trit-case))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">trit-case</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">trit-expr</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">F-body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">T-body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">?-body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">trit-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Evaluates the <span class="nobreak"><span class="RktVar">F-body</span></span>, <span class="nobreak"><span class="RktVar">T-body</span></span> or <span class="nobreak"><span class="RktVar">?-body</span></span>
depending on the value of the <span class="nobreak"><span class="RktVar">trit-expr</span></span>.
<span class="nobreak">The selected</span> <span style="font-style: italic"><span class="stt">body</span></span> is evaluated in tail position. The other ons are ignored.
<span class="nobreak">A <span class="stt"><span style="font-style: italic">body</span></span></span> can include definitions, but the last element must be an expression.
<span class="nobreak">A <span class="stt"><span style="font-style: italic">body</span></span></span> may be empty, <span class="nobreak">in which</span> case its value is <a href="file:///C:/Program%20Files/Racket/doc/reference/void.html" data-pltdoc="x"><span class="nobreak"><span class="stt">#&lt;void&gt;</span></span></a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._trit-combinations))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">trit-combinations</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">sort?</span><span class="hspace">&nbsp;</span><span class="RktPn">#:vector</span><span class="hspace">&nbsp;</span><span class="RktVar">vector?</span><span class="RktOpt">]</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fvector..rkt%29._vectorof%29%29" class="RktValLink" data-pltdoc="x">vectorof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">sort?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">vector?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">trit-combinations</span></span></span></span> returns a list or vector of all combinations of <span class="nobreak"><span class="RktVar">n</span></span> trits.<br/>
The result is a list or vector of 3<span style="vertical-align: super; font-size: 80%">n</span> lists of <span class="nobreak"><span class="RktVar">n</span></span> trits. If <span class="nobreak"><span class="RktVar">sort?</span></span> has a true value,
combinations with determinate trits (bits) only preceed all other ones.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit-combinations</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">((F F) (F T) (F ?) (T F) (T T) (T ?) (? F) (? T) (? ?))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit-combinations</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">((F F) (F T) (T F) (T T) (F ?) (T ?) (? F) (? T) (? ?))</span></p></td></tr></table></blockquote><p>The combinations can be used to check a circuit for all feasible inputs<br/>
or for making a truth table:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">out</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">out</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/for.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._for%29%29" class="RktStxLink" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">combination</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/sequences.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._in-list%29%29" class="RktValLink" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit-combinations</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/procedures.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._apply%29%29" class="RktValLink" data-pltdoc="x">apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._append%29%29" class="RktValLink" data-pltdoc="x">append</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/procedures.html#%28def._%28%28lib._racket%2Ffunction..rkt%29._curry%29%29" class="RktValLink" data-pltdoc="x">curry</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">no-name</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">combination</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">out</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._printf%29%29" class="RktValLink" data-pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"(And ~s ~s) = ~s~n"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._car%29%29" class="RktValLink" data-pltdoc="x">car</a></span><span class="hspace">&nbsp;</span><span class="RktSym">combination</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cadr%29%29" class="RktValLink" data-pltdoc="x">cadr</a></span><span class="hspace">&nbsp;</span><span class="RktSym">combination</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-signal</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">out</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">(And F F) = F</span></p></td></tr><tr><td><p><span class="RktOut">(And F T) = F</span></p></td></tr><tr><td><p><span class="RktOut">(And T F) = F</span></p></td></tr><tr><td><p><span class="RktOut">(And T T) = T</span></p></td></tr><tr><td><p><span class="RktOut">(And F ?) = F</span></p></td></tr><tr><td><p><span class="RktOut">(And T ?) = ?</span></p></td></tr><tr><td><p><span class="RktOut">(And ? F) = F</span></p></td></tr><tr><td><p><span class="RktOut">(And ? T) = ?</span></p></td></tr><tr><td><p><span class="RktOut">(And ? ?) = ?</span></p></td></tr></table></td></tr></table></blockquote><h3 class="heading">6<tt>&nbsp;</tt><a name="(part._binary)"></a>Binary logic<span class="button-group"><a href="#(part._binary)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h3><p>The binary digits are <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> and <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>.<br/>
They are <a href="#%28part._.Ternary._logic%29" data-pltdoc="x">trits</a> too.<br/>
Always <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28form._%28%28lib._racket%2Fbool..rkt%29._implies%29%29" class="RktStxLink" data-pltdoc="x">implies</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">bit?</span></span></span><span class="stt"> </span><span class="RktSym">x</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span><span class="stt"> </span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></span> &#8594; <span class="nobreak"><span class="RktVal">#t</span></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>constant</p></div></div><p class="RForeground"><a name="(def._((lib._circuit-simulation/circuits..rkt)._bits))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">bits</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._list%2Fc%29%29" class="RktValLink" data-pltdoc="x">list/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">bit?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">bit?</span></span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>constant</p></div></div><p class="RForeground"><a name="(def._((lib._circuit-simulation/circuits..rkt)._in-bits))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">in-bits</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/sequences.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._sequence~3f%29%29" class="RktValLink" data-pltdoc="x">sequence?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/sequences.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._in-list%29%29" class="RktValLink" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">bits</span></span></span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>predicate</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._bit~3f))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">bit?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">If the <span class="nobreak"><span class="RktVar">obj</span></span> is a bit, id est, <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> or <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>, <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">bit?</span></span></span><span class="stt"> </span><span class="RktVar">obj</span><span class="RktPn">)</span></span> yields <span class="nobreak"><span class="RktVal">#t</span></span>,
else it yields <span class="nobreak"><span class="RktVal">#f</span></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._circuit-simulation/circuits..rkt)._bit-case))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">bit-case</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">bit-expr</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">F-body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">T-body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">bit-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">bit?</span></span></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Evaluates the <span class="nobreak"><span class="RktVar">F-body</span></span> or <span class="nobreak"><span class="RktVar">T-body</span></span>
depending on the value of the <span class="nobreak"><span class="RktVar">bit-expr</span></span>.
The selected <span style="font-style: italic"><span class="stt">body</span></span> is evaluated in tail position. The other one is ignored.
<span class="nobreak">A <span class="stt"><span style="font-style: italic">body</span></span></span> can include definitions, but the last element must be an expression.
<span class="nobreak">A <span class="stt"><span style="font-style: italic">body</span></span></span> may be empty, <span class="nobreak">in which</span> case its value is <a href="file:///C:/Program%20Files/Racket/doc/reference/void.html" data-pltdoc="x"><span class="nobreak"><span class="stt">#&lt;void&gt;</span></span></a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._bit-combinations))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">bit-combinations</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:vector</span><span class="hspace">&nbsp;</span><span class="RktVar">vector?</span><span class="RktOpt">]</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">bit?</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fvector..rkt%29._vectorof%29%29" class="RktValLink" data-pltdoc="x">vectorof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">bit?</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">vector?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">bit-combinations</span></span></span></span> returns a list or vector of all combinations of <span class="nobreak"><span class="RktVar">n</span></span> bits.<br/>
The result is a list or vector of 2<span style="vertical-align: super; font-size: 80%">n</span> lists of <span class="nobreak"><span class="RktVar">n</span></span> bits.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">bit-combinations</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktPn">#:vector</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#((F F F) (F F T) (F T F) (F T T) (T F F) (T F T) (T T F) (T T T))</span></p></td></tr></table></blockquote><h3 class="heading">7<tt>&nbsp;</tt><a name="(part._agenda)"></a>Agenda<span class="button-group"><a href="#(part._agenda)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h3><p>An agenda schedules events, which are instructions to put a new signal on a given wire
at a given time in future.
More than one event can be scheduled for the same time.
For times <span class="nobreak"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" data-pltdoc="x">natural numbers</a></span> are used without specifying a unit of time.
This unit is implied and always the same, <span class="nobreak">may be not</span> more than a small fraction of a nanosecond.
Every agenda has a clock called &#8216;<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time</span></span></span></span>&#8217;.
<span class="nobreak">An agenda</span> never schedules events preceding the current <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time</span></span></span></span>.
Events are <span class="nobreak"><font class="badlink">executed</font></span> in order of progressing time.
During a simulation the circuit may schedule more events.
These are handled too.
After execution of the events for time t
the <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time</span></span></span></span> is increased to t+1.
An agenda can contain more than one event for the same time and
for several input wires of the same gate.
In that case the gate is triggered once after all these wires have received their new signals.
As long as none of the input wires of a gate change signal, <span class="nobreak">the gate</span> is not triggered.
When a gate is triggered with input signals that do not change the output,
no event is scheduled for this output.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._current-agenda))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-agenda</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda?</span></span></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-agenda</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">agenda</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">agenda</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda?</span></span></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">the-agenda</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">All procedures that need an agenda use the <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-agenda</span></span></span></span>.
You probably never need to mutate this parameter.
It is necessary, though, to use separate agendas
when running simulations simultaneously in threads, places or futures.
This is possible provided the circuits are distinct and do not share output wires.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._agenda-make))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-make</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">name</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">no-name</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns an empty agenda with <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time</span></span></span></span> <span class="nobreak"><span class="RktVal">0</span></span>.
The <span class="nobreak"><span class="RktVar">name</span></span> is for its printed form:</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-make</span></span></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;agenda:no-name&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/inspectors.html#%28def._%28%28quote._~23~25kernel%29._object-name%29%29" class="RktValLink" data-pltdoc="x">object-name</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">my-agenda</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">my-agenda</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>predicate</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._agenda~3f))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Predicate for agendas made by procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-make</span></span></span></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._agenda-reset!))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-reset!</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Removes all events from the <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-agenda</span></span></span></span> and resets its <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time</span></span></span></span> to <span class="nobreak"><span class="RktVal">0</span></span>.
Usually <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-reset!</span></span></span></span> is called when the <span class="nobreak"><font class="badlink">agenda</font></span> already is empty,
just in order to reset its time.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._agenda-empty~3f))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-empty?</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="nobreak"><span class="RktVal">#t</span></span> if the <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-agenda</span></span></span></span> is empty, else <span class="nobreak"><span class="RktVal">#f</span></span>.
This procedure is useful only to check whether or not the installation of a circuit did
schedule events.
Installing a circuit usually schedules events, but not always.
If none of the gates will change their outputs during power up, no events are scheduled.
After return from procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span> the related agenda always is empty.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">in</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">out</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-empty?</span></span></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">time 1 : out : F -&gt; T</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-empty?</span></span></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">in</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">out</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-empty?</span></span></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Nothing happens</span></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._agenda-time))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Returns the current time of the <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-agenda</span></span></span></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._agenda-execute!))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">report</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">report</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-report</span></span></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Executes all events scheduled in the <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-agenda</span></span></span></span> in order of increasing time.
While <span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span> is running,
the simulated circuit may schedule more events.
These will be executed too.
Procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span> continues until the <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-agenda</span></span></span></span> is empty
or the <span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time-limit</span></span></span> is exceeded.
When procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span> finishes, the <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time</span></span></span></span> is left
one unit of time after that of the last event.
After all wires have obtained their final values, the agenda may still contain events
scheduled explicitly by means of procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span></span> or syntax <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-sequence!</span></span></span></span>
but that will not change any signal.
<span class="nobreak">In that</span> case time keeps running while walking the agenda.
Events that in future will not change the signal on
<span class="nobreak">a wire</span> cannot be ignored, because without actually continuing the simulation,
in general it cannot be known which signal the wire will have when the time of the event will come.
<span class="nobreak">The time</span> is not running while procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span> is not running.
The agenda never contains more than one event for the same wire and the same time.
If <span class="nobreak"><span class="RktVar">report</span></span> has a true value, a report is printed showing
all signal switches including time, name of the wire, old signal and new signal.
<span class="nobreak">For an</span> example see the <span class="nobreak"><a href="#%28part._.D-flip-flop-section%29" data-pltdoc="x">D-flip-flop example</a></span>.
Events for the same time segment are reported in sorted order of the names of the wires.
If parameter <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">report-hidden</span></span></span></span> is <span class="nobreak"><span class="RktVal">#f</span></span> wires whose names end with a dot &#8216;&#8226;&#8217;
followed by one or more decimal digits are not included in the report.
Such names are used for <span class="nobreak"><font class="badlink">hidden wires.</font></span>
Procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span> can handle more than one circuit simultaneously,
provided they do not share external output wires:</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">and-ab</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">and-ac</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Xor</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">xor-ab</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Xor</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">xor-ac</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">time 2 : and-ab : ? -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 2 : and-ac : ? -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 3 : xor-ab : ? -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 3 : xor-ac : ? -&gt; T</span></p></td></tr></table></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._agenda-time-limit))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time-limit</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time-limit</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">time-limit</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">time-limit</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">1000</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Parameter forcing a limit on the progression of the <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time</span></span></span></span>.
When procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span> goes beyond the <span class="nobreak"><span class="RktVar">time-limit</span></span>, an exception is raised.
No time-limit is imposed if <span class="nobreak"><span class="RktVar">time-limit</span></span> is <span class="nobreak"><span class="RktVal">#f</span></span>
in which case the simulator of an oscillating circuit keeps running forever (in bound space).
The limit does not apply to procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span></span> nor to syntax <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-sequence!</span></span></span></span>,
such as to allow the <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time-limit</span></span></span></span> <span class="nobreak">to be</span> adjusted after scheduling events.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-init-signal</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">oscillator</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time-limit</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">time 1 : a : F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 2 : a : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 3 : a : F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 4 : a : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 5 : a : F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 6 : a : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 7 : a : F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 8 : a : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 9 : a : F -&gt; T</span></p></td></tr></table></td></tr><tr><td><p><span class="RktErr">agenda-execute!: time-limit 9 exceeded</span></p></td></tr></table></blockquote><blockquote><p><span class="Smaller">Considere the number of different internal states of a circuit in combination with
the agenda modulo <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time</span></span></span></span>.
This number is finite.
Therefore, it is possible to adapt the simulator such as to detect infinite oscillation.
However, this would involve much overhead in terms of both memory usage and execution time.
Therefore, this detection has not been implemented.<br/>
May be this detection should be added as an option. May be a yet-to-do.</span></p></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._agenda-schedule!))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">wire</span><span class="hspace">&nbsp;</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">delay</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">wire</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">delay</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">0</span></td></tr></table></blockquote></div><div class="SIntrapara">Schedules in the <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-agenda</span></span></span></span> a <span class="nobreak"><span class="RktVar">signal</span></span> change at time <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time</span></span></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">delay</span><span class="RktPn">)</span></span>
for the <span class="nobreak"><span class="RktVar">wire</span></span>.
Scheduling an event for the same time and wire as already scheduled,
cancels the previous one.
A circuit never schedules events that do not change the signals on the related wires.
However, by means of procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span></span> or syntax <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-sequence!</span></span></span></span>
the user can schedule events that do not change signals.
These events are skipped when their time has come.
Events that in future will not change the signal on
<span class="nobreak">a wire</span> cannot be ignored, because without actually continuing the simulation,
in general it cannot be known which signal the wire will have when the time of the event will come.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-report</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">time 10 : a : F -&gt; T</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time</span></span></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">11</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Scheduled for time 11+10=21.</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Nothing happens, for the signal does not change,</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time</span></span></span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">but time kept running.</span></td></tr><tr><td><p><span class="RktRes">22</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._circuit-simulation/circuits..rkt)._agenda-sequence!))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-sequence!</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">wire</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span><span class="RktVar">delay</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">wire</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">signal</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">delay</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Same as:</div></p><blockquote><p><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="stt"> </span><span class="RktVar">wire</span><span class="stt"> </span><span class="RktVar">signal</span><span class="stt"> </span><span class="RktVar">delay</span><span class="RktPn">)</span></span> <span class="stt">...</span></p></blockquote><p>for each <span class="nobreak"><span class="RktVar">wire</span></span> and per <span class="nobreak"><span class="RktVar">wire</span></span> for each combination of <span class="nobreak"><span class="RktVar">signal</span></span> and <span class="nobreak"><span class="RktVar">delay</span></span>.<br/>
The events are scheduled in the order they appear in the <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-sequence!</span></span></span></span> form.<br/>
When more than one event appears for the same <span class="nobreak"><span class="RktVar">wire</span></span> and the same <span class="nobreak"><span class="RktVar">delay</span></span>,<br/>
the last one cancels all preceding ones.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define-wires</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-sequence!</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">90</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">time 5 : a : ? -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 6 : a : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 7 : b : ? -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 8 : b : T -&gt; F</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time</span></span></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">91</span></p></td></tr></table></blockquote><p>Event <span class="nobreak"><span class="RktPn">(</span><span class="RktSym">a</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="stt"> </span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></span> is canceled by event <span class="nobreak"><span class="RktPn">(</span><span class="RktSym">a</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="stt"> </span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></span>.<br/>
Event <span class="nobreak"><span class="RktPn">(</span><span class="RktSym">b</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="stt"> </span><span class="RktVal">90</span><span class="RktPn">)</span><span class="RktPn">)</span></span> is not executed, because it does not alter the signal.<br/>
Nevertheless, time kept running until encountering this event.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._agenda-report))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-report</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-report</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">on/off</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">on/off</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Default for argument <span class="stt"><span style="font-style: italic">report</span></span> of procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._report-time-width))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">report-time-width</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">report-time-width</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">minimal-width</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">minimal-width</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">1</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">For alignment of the times as printed by procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span> in a report.<br/>
For a neat report set the parameter to the maximal number of digits expected in the display
of a time. A time requiring more than <span class="nobreak"><span class="RktVar">minimal-width</span></span> decimal digits is not truncated.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._report-wire-width))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">report-wire-width</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">report-wire-width</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">minimal-width</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">minimal-width</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">1</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">For alignment of the names of wires as printed by procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span> in a report.
For a neat report set the parameter to the maximal length of wire names.
A wire name of more than <span class="nobreak"><span class="RktVar">minimal-width</span></span> characters is not truncated.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._report-hidden))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">report-hidden</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">report-hidden</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">on/off</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">on/off</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">#f</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">If this parameter is <span class="nobreak"><span class="RktVal">#f</span></span> a report does not show changes of hidden wires.
A wire is hidden if its name ends with a dot &#8216;&#8226;&#8217; (<span class="sroman"><span style="color: green"><span class="stt">#\u2022</span></span></span>)
followed by one or more decimal digits.
<span class="nobreak">A wire</span> made by syntax <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span></span> for the output of
<span class="nobreak">a <span class="stt"><span style="font-style: italic">subcircuit-arg</span></span></span> that itself is
<span class="nobreak">a <span class="stt"><span style="font-style: italic">subcircuit</span></span></span> has such a name.
A wire made by procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span></span> may have such name too.
Such a wire will be treated as a hidden one too.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">install-and-run-circuit</span><span class="hspace">&nbsp;</span><span class="RktSym">show-hidden?</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">reset-hidden-cntr!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-reset!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Circuit</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">out</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">out</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">     out   Nand&#8226;1  Not&#8226;2    Nand&#8226;3  Not&#8226;4</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">out</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/parameters.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._parameterize%29%29" class="RktStxLink" data-pltdoc="x">parameterize</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-report</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">report-hidden</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">show-hidden?</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">report-wire-width</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">install-and-run-circuit</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Hidden wires not shown.</span></td></tr><tr><td><p><span class="RktOut">time 3 : out</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: ? -&gt; T</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">install-and-run-circuit</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Hidden wires are shown.</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">time 1 : Nand&#8226;3 : ? -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 1 : Not&#8226;2</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: ? -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 1 : Not&#8226;4</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: ? -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 2 : Nand&#8226;1 : ? -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 3 : out</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: ? -&gt; T</span></p></td></tr></table></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._reset-hidden-cntr!))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">reset-hidden-cntr!</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Resets the counter for naming <span class="nobreak"><font class="badlink">hidden</font></span> wires.
Does not affect the identity of hidden wires. Distinct wires can have the same
<span class="nobreak"><font class="badlink">name</font></span>.</div></p><h3 class="heading">8<tt>&nbsp;</tt><a name="(part._wires)"></a>Wires<span class="button-group"><a href="#(part._wires)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h3><p>A wire has a name, a signal and a list of actions.
The signal always is a <span class="nobreak"><font class="badlink">trit</font></span>.
Each action is related to a gate that has the wire as an input.
An action triggers the gate when the signal on the wire is changed.
A gate with two or more inputs never is triggered more than once at the same
<span class="nobreak"><a href="#%28part._agenda%29" data-pltdoc="x">agenda-time</a></span>.
It is triggered once after all inputs have been computed.<br/>
If the input signals do not change, the gate is not triggered.
A gate does not schedule an event for its output if this output will not change.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._wire-make))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">signal</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-init-signal</span></span></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Yields a wire with a <span class="nobreak"><span class="RktVar">name</span></span>, initialized with <span class="nobreak"><span class="RktVar">signal</span></span>
and with empty list of actions.<br/>
Circuit constructors add actions to wires.</div></p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">my-wire</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;wire:my-wire=T&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/inspectors.html#%28def._%28%28quote._~23~25kernel%29._object-name%29%29" class="RktValLink" data-pltdoc="x">object-name</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">another-wire</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">another-wire</span></p></td></tr></table></blockquote></div><div class="SIntrapara">Distinct wires can have the same name.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28quote._~23~25kernel%29._define-values%29%29" class="RktStxLink" data-pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">wire-a</span><span class="hspace">&nbsp;</span><span class="RktSym">wire-b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/values.html#%28def._%28%28quote._~23~25kernel%29._values%29%29" class="RktValLink" data-pltdoc="x">values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">wire-a</span><span class="hspace">&nbsp;</span><span class="RktSym">wire-b</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-println</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">wire-a</span><span class="hspace">&nbsp;</span><span class="RktSym">wire-b</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">a=? a=?</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">wire-a</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-println</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">wire-a</span><span class="hspace">&nbsp;</span><span class="RktSym">wire-b</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">a=T a=?</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._wire-init-signal))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-init-signal</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-init-signal</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">signal</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Contains the default value for argument <span class="stt"><span style="font-style: italic">signal</span></span> of procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span></span>.
Also used by circuit constructors for the creation of internal wires.
When <span class="nobreak"><span class="RktVar">signal</span></span>=<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></span>, there is a good chance
that a circuit does not vibrate during power up, whereas it would vibrate
with a determinate initial signal.
The reason is that the inverse of <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></span> is <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></span>. For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">oscillator</span><span class="hspace">&nbsp;</span><span class="RktSym">init-signal</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/parameters.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._parameterize%29%29" class="RktStxLink" data-pltdoc="x">parameterize</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-init-signal</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">init-signal</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time-limit</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-report</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Oscillator</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-reset!</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">oscillator</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Nothing happens because the inverse of ? is ?.</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">oscillator</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Oscillates, terminated by a time limit error.</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">time 1 : a : F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 2 : a : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 3 : a : F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 4 : a : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 5 : a : F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 6 : a : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 7 : a : F -&gt; T</span></p></td></tr></table></td></tr><tr><td><p><span class="RktErr">agenda-execute!: time-limit 7 exceeded</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>predicate</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._wire~3f))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Predicate for wires made with procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._wire-name))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-name</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">wire</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">wire</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the name of the <span class="nobreak"><span class="RktVar">wire</span></span>.<br/>
The name can also be retrieved by means of procedure <span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/inspectors.html#%28def._%28%28quote._~23~25kernel%29._object-name%29%29" class="RktValLink" data-pltdoc="x">object-name</a></span></span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">wire</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">wire</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-name</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">wire</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">wire</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/inspectors.html#%28def._%28%28quote._~23~25kernel%29._object-name%29%29" class="RktValLink" data-pltdoc="x">object-name</a></span><span class="hspace">&nbsp;</span><span class="RktVar">wire</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">wire</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._wire-signal))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-signal</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">wire</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">wire</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the current signal on the <span class="nobreak"><span class="RktVar">wire</span></span>.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-signal</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">who-cares?</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">T</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._wire-print))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-print</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:port</span><span class="hspace">&nbsp;</span><span class="RktVar">port</span><span class="RktOpt">]</span><span class="hspace">&nbsp;</span><span class="RktVar">wire</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">port</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">current</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">string</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">current</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">wire</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Displays the names of the <span class="nobreak"><span class="RktVar">wire</span></span>s and their current signals
on the <span class="nobreak"><span class="RktVar">port</span></span> or returns a string.<br/>
If <span class="nobreak"><span class="RktVar">port</span></span> is <span class="nobreak"><span class="RktVal">'</span><span class="RktVal">current</span></span> the <span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/port-ops.html#%28def._%28%28quote._~23~25kernel%29._current-output-port%29%29" class="RktValLink" data-pltdoc="x">current-output-port</a></span></span> is used and <a href="file:///C:/Program%20Files/Racket/doc/reference/void.html" data-pltdoc="x"><span class="nobreak"><span class="stt">#&lt;void&gt;</span></span></a> is returned.<br/>
If <span class="nobreak"><span class="RktVar">port</span></span> is an output-port, that port is used and <a href="file:///C:/Program%20Files/Racket/doc/reference/void.html" data-pltdoc="x"><span class="nobreak"><span class="stt">#&lt;void&gt;</span></span></a> is returned.<br/>
If <span class="nobreak"><span class="RktVar">port</span></span> is <span class="nobreak"><span class="RktVal">'</span><span class="RktVal">string</span></span> the output is returned as a string.<br/>
Every wire is displayed on a separate line, but if <span class="nobreak"><span class="RktVar">port</span></span> is <span class="nobreak"><span class="RktVal">'</span><span class="RktVal">string</span></span>,<br/>
the newline at the end is omitted.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define-wires</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-print</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">a = F</span></p></td></tr><tr><td><p><span class="RktOut">b = T</span></p></td></tr></table></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._wire-println))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-println</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:port</span><span class="hspace">&nbsp;</span><span class="RktVar">port</span><span class="hspace">&nbsp;</span><span class="RktPn">#:sep</span><span class="hspace">&nbsp;</span><span class="RktVar">sep</span><span class="RktOpt">]</span><span class="hspace">&nbsp;</span><span class="RktVar">wire</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">port</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">current</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">string</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">current</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">sep</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">" "</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">wire</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Displays the names of the <span class="nobreak"><span class="RktVar">wire</span></span>s and their current signals
on the <span class="nobreak"><span class="RktVar">port</span></span> or returns a string.<br/>
If <span class="nobreak"><span class="RktVar">port</span></span> is <span class="nobreak"><span class="RktVal">'</span><span class="RktVal">current</span></span> the <span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/port-ops.html#%28def._%28%28quote._~23~25kernel%29._current-output-port%29%29" class="RktValLink" data-pltdoc="x">current-output-port</a></span></span> is used and <a href="file:///C:/Program%20Files/Racket/doc/reference/void.html" data-pltdoc="x"><span class="nobreak"><span class="stt">#&lt;void&gt;</span></span></a> is returned.<br/>
If <span class="nobreak"><span class="RktVar">port</span></span> is an output-port, that port is used and <a href="file:///C:/Program%20Files/Racket/doc/reference/void.html" data-pltdoc="x"><span class="nobreak"><span class="stt">#&lt;void&gt;</span></span></a> is returned.<br/>
If <span class="nobreak"><span class="RktVar">port</span></span> is <span class="nobreak"><span class="RktVal">'</span><span class="RktVal">string</span></span> the output is returned as a string.<br/>
The information is displayed in one line, separated by <span class="nobreak"><span class="RktVar">sep</span></span>
and with a newline at the end.
If <span class="nobreak"><span class="RktVar">port</span></span> is <span class="nobreak"><span class="RktVal">'</span><span class="RktVal">string</span></span>, the newline at the end is omitted.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define-wires</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-println</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktPn">#:port</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">string</span><span class="hspace">&nbsp;</span><span class="RktPn">#:sep</span><span class="hspace">&nbsp;</span><span class="RktVal">" and "</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"a=F and b=T"</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._circuit-simulation/circuits..rkt)._define-wires))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">define-wires</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">def</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">def</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">id</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">signal-expr</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">name-expr</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">name-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">signal-expr</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">name-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">signal-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Same as:</div></p><blockquote><p><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28quote._~23~25kernel%29._define-values%29%29" class="RktStxLink" data-pltdoc="x">define-values</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktVar">id</span><span class="stt"> </span><span class="RktMeta"><a href="file:///C:/Program%20Files/Racket/doc/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/values.html#%28def._%28%28quote._~23~25kernel%29._values%29%29" class="RktValLink" data-pltdoc="x">values</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="stt"> </span><span class="RktVar">name-expr</span><span class="stt"> </span><span class="RktVar">signal-expr</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktMeta"><a href="file:///C:/Program%20Files/Racket/doc/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span></span></p></blockquote><p><div class="SIntrapara">The default <span class="nobreak"><span class="RktVar">name-expr</span></span> is <span class="stt">'</span><span class="nobreak"><span class="RktVar">id</span></span> and the default <span class="nobreak"><span class="RktVar">signal-expr</span></span> is
<span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-init-signal</span></span></span><span class="RktPn">)</span></span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define-wires</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">?</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">T</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-println</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">a=? b=? ?=? d=F T=T</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._wire-nr-of-actions))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-nr-of-actions</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">wire</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">wire</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the number of actions currently attributed to a <span class="nobreak"><span class="RktVar">wire</span></span>,
id est, the number of gates that have the wire as an input.
Giving the wire as an input wire to a circuit constructor usually,
but not necessarily increments this number.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define-wires</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-nr-of-actions</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">2</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">no-name</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Does not add an action.</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-nr-of-actions</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">2</span></p></td></tr></table></blockquote><h3 class="heading">9<tt>&nbsp;</tt><a name="(part._.Circuit_constructors)"></a>Circuit constructors<span class="button-group"><a href="#(part._.Circuit_constructors)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h3><p>Syntax <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span></span> describes a circuit.
It expands to a circuit constructor.<br/>
<a href="#%28elem._circuit-call%29" data-pltdoc="x">See above</a> how to proceed.
<span class="nobreak">A circuit</span> can contain multiple instances of identical subcircuits,
but these instances always are distinct objects, without sharing any parts.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._circuit-simulation/circuits..rkt)._make-circuit-constr))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">input-wire</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">output-wire</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">sub-output-wires</span><span class="hspace">&nbsp;</span><span class="RktVar">subcircuit</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">input-wire</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">output-wire</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">sub-input-wire</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">sub-output-wire</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">subcircuit</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">subcircuit-constr</span><span class="hspace">&nbsp;</span><span class="RktVar">subcircuit-arg</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">sub-output-wires</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">sub-output-wire</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">sub-output-wire</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">subcircuit-arg</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">sub-input-wire</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">subcircuit</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">name</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">subcircuit-constr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">circuit-constr?</span></span></span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">At run time each <span class="nobreak"><span class="RktVar">subcircuit-constr</span></span> is evaluated once only.
Notice that all operators in a <span class="nobreak"><span class="RktVar">subcircuit</span></span> are constructors.
This garantees that distinct instances are made for all <span class="nobreak"><span class="RktVar">subcircuit</span></span>s.
For this reason objects like <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span></span> and <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span></span> are gate constructors rather than
the gates themselves.
The following checks are done during expansion:</div></p><p>&#8226; A duplicate <span class="nobreak"><span class="RktVar">input-wire</span></span> is not permitted.<br/>
&#8226; A duplicate <span class="nobreak"><span class="RktVar">output-wire</span></span> is not permitted.<br/>
&#8226; A duplicate <span class="nobreak"><span class="RktVar">sub-output-wire</span></span> is not permitted.<br/>
&#8226; Every <span class="nobreak"><span class="RktVar">input-wire</span></span> must appear at least once as a <span class="nobreak"><span class="RktVar">sub-input-wire</span></span> or an
<span class="nobreak"><span class="RktVar">output-wire</span></span>.<br/>
&#8226; Every <span class="nobreak"><span class="RktVar">output-wire</span></span> must be a <span class="nobreak"><span class="RktVar">sub-output-wire</span></span> or an <span class="nobreak"><span class="RktVar">input-wire</span></span>.<br/>
&#8226; Every <span class="nobreak"><span class="RktVar">sub-input-wire</span></span> must be an <span class="nobreak"><span class="RktVar">input-wire</span></span> or a <span class="nobreak"><span class="RktVar">sub-output-wire</span></span>.<br/>
&#8226; Every <span class="nobreak"><span class="RktVar">sub-output-wire</span></span> must be an <span class="nobreak"><span class="RktVar">output-wire</span></span> or a <span class="nobreak"><span class="RktVar">sub-input-wire</span></span> or both.<br/>
&#8226; A wire cannot be both an <span class="nobreak"><span class="RktVar">input-wire</span></span> and a <span class="nobreak"><span class="RktVar">sub-output-wire</span></span>.</p><p>The contract <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">circuit-constr?</span></span></span></span> on the <span class="nobreak"><span class="RktVar">subcircuit-constr</span></span>s is checked
when the constructor yielded by <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span></span> is called.
A <span class="nobreak"><span class="RktVar">subcircuit-constr</span></span> can be an arbirary expression yielding a circuit constructor.
Each <span class="nobreak"><span class="RktVar">subcircuit</span></span> must have as many inputs as <span class="nobreak"><span class="RktVar">subcircuit-arg</span></span>s
and as many outputs as <span class="nobreak"><span class="RktVar">sub-output-wire</span></span>s.
Wrong arity is detected when the subcircuit is called for connection to its input and output wires.
<span class="nobreak">A <span class="nobreak"><span class="RktVar">subcircuit-arg</span></span></span> that itself is a <span class="nobreak"><span class="RktVar">subcircuit</span></span>
can have one output only, for which a <span class="nobreak"><font class="badlink">hidden</font></span> internal wire is incorporated.
The name of the hidden wire is that of the <span class="nobreak"><span class="RktVar">subcircuit</span></span> followed by
a dot &#8216;&#8226;&#8217; and a natural number. Hidden wires are numbered starting from <span class="nobreak"><span class="RktVal">1</span></span>.
The counter is increased by 1 for each next hidden wire.
Subsequent <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span></span> forms continue counting from where the previous form ended,
unless reset by means of procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">reset-hidden-cntr!</span></span></span></span>.
<span class="nobreak">See parameter</span> <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">report-hidden</span></span></span></span> too.
A <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span></span> form expands to a circuit constructor:
<a name="(elem._circuit)"></a></p><blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="RktSymDef RktSym">circuit-constr</span></span><span class="hspace">&nbsp;</span><span class="RktVar">wire</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">wire</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">A circuit constructor installs a distinct circuit every time it is called.
It wants n+m <span class="stt"><span style="font-style: italic">wire</span></span>s for its arguments,
the first n corresponding to the <span class="nobreak"><span class="RktVar">input-wire</span></span>s
and the last m corresponding to the <span class="nobreak"><span class="RktVar">output-wire</span></span>s as given to syntax
<span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span>
and not an <span class="nobreak"><span class="RktVar">input-wire</span></span> too.
<span class="nobreak">It registers</span> the connections to the input and output wires and
schedules events in the agenda. No simulation yet.
Simulation is initiated with procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span></span>.</div></p></blockquote><p>Distinct circuits can share input wires,
but must not share output wires.
This is not checked.
Sharing output wires in real life makes no sense,
for this causes a short circuit
when one circuit puts signal <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> on the wire and another one signal <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>.</p><p><span class="nobreak">A circuit constructor</span> must not call itself as a subcircuit, nor directly nor indirectly.
<span class="nobreak">An attempt</span> to do so is detected as an error at run time when the constructor is called.
Otherwise calling the circuit constructor would lead to an infinite recursion.
Neither can a real life circuit contain itself as a non trivial subcircuit.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Circuit-a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">a</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">Circuit-a: cannot be a subcircuit of itself,</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">nor directly, nor indirectly</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Circuit-b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Circuit-c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">Circuit-b: cannot be a subcircuit of itself,</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">nor directly, nor indirectly</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>predicate</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._circuit-constr~3f))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">circuit-constr?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Predicates for circuit constructors.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Empty-circuit-constr</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">empty-circuit</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._andmap%29%29" class="RktValLink" data-pltdoc="x">andmap</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">circuit-constr?</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">Empty-circuit-constr</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._circuit-constr-name))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">circuit-constr-name</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">circuit-constr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">circuit-constr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">circuit-constr?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Return the name of a circuit constructor.<br/>
The name can also be retrieved with procedure <span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/inspectors.html#%28def._%28%28quote._~23~25kernel%29._object-name%29%29" class="RktValLink" data-pltdoc="x">object-name</a></span></span>.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">circuit-constr-name</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">Empty-circuit-constr</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(Not Nand And empty-circuit)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/inspectors.html#%28def._%28%28quote._~23~25kernel%29._object-name%29%29" class="RktValLink" data-pltdoc="x">object-name</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">Empty-circuit-constr</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(Not Nand And empty-circuit)</span></p></td></tr></table></blockquote><h3 class="heading">10<tt>&nbsp;</tt><a name="(part._gate)"></a>Gates<span class="button-group"><a href="#(part._gate)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h3><p>A gate is an elementary circuit.
<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span></span>, <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span></span> and <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand3</span></span></span></span> gates are the most elementary ones,
or rather their constructors. <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Delay</span></span></span></span> is a special one.
<span class="nobreak">All other</span> predefined gate constructors are built
with <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span></span> using <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span></span>, <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span></span> and <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand3</span></span></span></span> gates
according to the following formulas. See the <a href="#%28part._truth._tables%29" data-pltdoc="x">truth tables</a> too.</p><p><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td align="left" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>Gate</p></td><td align="left" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>Formula</p></td></tr><tr><td align="left"><p><span class="stt">(<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span></span>  <span class="hspace">&nbsp;&nbsp;</span>a b)</span></p></td><td align="left"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>=</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktSym">a</span><span class="stt"> </span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></span></p></td></tr><tr><td align="left"><p><span class="stt">(<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Or</span></span></span></span>   <span class="hspace">&nbsp;&nbsp;&nbsp;</span>a b)</span></p></td><td align="left"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>=</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktSym">a</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></span></p></td></tr><tr><td align="left"><p><span class="stt">(<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nor</span></span></span></span>  <span class="hspace">&nbsp;&nbsp;</span>a b)</span></p></td><td align="left"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>=</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktSym">a</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></span></p></td></tr><tr><td align="left"><p><span class="stt">(<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Xor</span></span></span></span>  <span class="hspace">&nbsp;&nbsp;</span>a b)</span></p></td><td align="left"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>=</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktSym">a</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktSym">a</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></span></p></td></tr><tr><td align="left"><p><span class="stt">(<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Imply</span></span></span></span>           a b)</span></p></td><td align="left"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>=</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktSym">a</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></span></p></td></tr><tr><td align="left"><p><span class="stt">(<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">And3</span></span></span></span> <span class="hspace">&nbsp;</span>a b c)</span></p></td><td align="left"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>=</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand3</span></span></span><span class="stt"> </span><span class="RktSym">a</span><span class="stt"> </span><span class="RktSym">b</span><span class="stt"> </span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span></span></p></td></tr><tr><td align="left"><p><span class="stt">(<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Or3</span></span></span></span>  <span class="hspace">&nbsp;&nbsp;</span>a b c)</span></p></td><td align="left"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>=</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand3</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktSym">a</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktSym">b</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span></span></p></td></tr><tr><td align="left"><p><span class="stt">(<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nor3</span></span></span></span> <span class="hspace">&nbsp;</span>a b c)</span></p></td><td align="left"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>=</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand3</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktSym">a</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktSym">b</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></span></p></td></tr><tr><td align="left" style="border-bottom: 1px solid black;"><p><span class="stt">(<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">If</span></span></span></span>   <span class="hspace">&nbsp;&nbsp;&nbsp;</span>a b c)</span></p></td><td align="left" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p>=</p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left" style="border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand3</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktSym">b</span><span class="stt"> </span><span class="RktSym">c</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktSym">a</span><span class="stt"> </span><span class="RktSym">b</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktSym">a</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span></span></p></td></tr></table></p><p>Every gate constructor is a procedure accepting input wires followed by one output wire.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>gate constructor</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.Not))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>gate constructor</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.Nand))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>gate constructor</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.Nand3))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand3</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktVar">c</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">c</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>gate constructor</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.And))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>gate constructor</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.Or))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">Or</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>gate constructor</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.Nor))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nor</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>gate constructor</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.Xor))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">Xor</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>gate constructor</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.And3))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">And3</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktVar">c</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">c</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>gate constructor</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.Or3))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">Or3</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktVar">c</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">c</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>gate constructor</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.Nor3))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nor3</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktVar">c</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">c</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>gate constructor</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.If))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">If</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">test</span><span class="hspace">&nbsp;</span><span class="RktVar">then</span><span class="hspace">&nbsp;</span><span class="RktVar">else</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">test</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">then</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">else</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Same as:</div></p><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand3</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktVar">then</span><span class="stt"> </span><span class="RktVar">else</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktVar">test</span><span class="stt"> </span><span class="RktVar">then</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktVar">test</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">else</span><span class="RktPn">)</span><span class="RktPn">)</span></span></p><p>which is the same as:</p><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Or3</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span><span class="stt"> </span><span class="RktVar">then</span><span class="stt"> </span><span class="RktVar">else</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span><span class="stt"> </span><span class="RktVar">test</span><span class="stt"> </span><span class="RktVar">then</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktVar">test</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">else</span><span class="RktPn">)</span><span class="RktPn">)</span></span></p><p>but the former has less delay.
<span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktVar">then</span><span class="stt"> </span><span class="RktVar">else</span><span class="RktPn">)</span></span> is included such as to produce <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>
when the <span class="nobreak"><span class="RktVar">test</span></span> is indeterminate and both <span class="nobreak"><span class="RktVar">then</span></span> and <span class="nobreak"><span class="RktVar">else</span></span> are <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>gate constructor</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.Imply))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">Imply</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">premise</span><span class="hspace">&nbsp;</span><span class="RktVar">implication</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">premise</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">implication</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara"><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Imply</span></span></span></span> is the same as:</div></p><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktVar">premise</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktVar">implication</span><span class="RktPn">)</span><span class="RktPn">)</span></span></p><p>which is the same as:</p><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Or</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktVar">premise</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">implication</span><span class="RktPn">)</span></span></p><p>but the former has less delay.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.Delay))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">Delay</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">delay</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">circuit-constr?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">delay</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-positive-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-positive-integer?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>gate-constructor</p></div></div><p class="RForeground"><span class="RktPn">((</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Delay</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">delay</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">delay</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-positive-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire?</span></span></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">A delay gate has one input and one output equal to the input,<br/>
but switching the output is delayed by <span class="nobreak"><span class="RktVar">delay</span></span> units of time.<br/>
Can be used for synchronization.
See section <a href="#%28part._.Synchronization%29" data-pltdoc="x">Synchronization</a> for an example.<br/>
Can also be used to simulate delays of gates with large fan-out and delays in long wires.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">in</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">out</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Delay</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-sequence!</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/parameters.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._parameterize%29%29" class="RktStxLink" data-pltdoc="x">parameterize</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">report-wire-width</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">report-time-width</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-report</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">2 : in</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: ? -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">4 : in</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">6 : in</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">8 : in</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 12 : out : ? -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 14 : out : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 16 : out : F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 18 : out : T -&gt; F</span></p></td></tr></table></td></tr></table></blockquote><h3 class="heading">11<tt>&nbsp;</tt><a name="(part._.Logical_functions)"></a>Logical functions<span class="button-group"><a href="#(part._.Logical_functions)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h3><p><div class="SIntrapara">A logical function accepts <span class="nobreak"><font class="badlink">trits</font></span>
for its arguments and returns one <span class="nobreak"><font class="badlink">trit</font></span>.
Some of the functions accept an arbitrary number of arguments,
whereas gates always have a fixed number of inputs.
<a name="(elem._generalized-associativity)"></a>
Where applicable a note is added about commutativity and associativity.
In this document these two concepts are generalized to functions that can accept more than two
arguments.
Such a function will be said to be commutative if it is invariant
under permutation of its arguments.
It will be said to be associative if a nested application
can be flattened to one single application.
For example, <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">And-function</span></span></span></span> is associative in generalized sense:
</div><div class="SIntrapara"><blockquote><p><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And-function</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And-function</span></span></span><span class="stt"> </span><span class="RktSym">a</span><span class="stt"> </span><span class="RktSym">b</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And-function</span></span></span><span class="stt"> </span><span class="RktSym">c</span><span class="stt"> </span><span class="RktSym">d</span><span class="RktPn">)</span><span class="RktPn">)</span></span>
can be written as: <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And-function</span></span></span><span class="stt"> </span><span class="RktSym">a</span><span class="stt"> </span><span class="RktSym">b</span><span class="stt"> </span><span class="RktSym">c</span><span class="stt"> </span><span class="RktSym">d</span><span class="RktPn">)</span></span></p></blockquote></div><div class="SIntrapara">This excludes the distinction between left and right associativity,
but in the present document this distinction is not needed.
A function that is associative when called with two arguments only,
not necessarily is associative in generalized sense too.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.Not-function))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">Not-function</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">signal</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara"><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not-function</span></span></span><span class="stt"> </span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3d%29%29" class="RktValLink" data-pltdoc="x">=</a></span><span class="stt"> </span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span><br/>
<span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not-function</span></span></span><span class="stt"> </span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3d%29%29" class="RktValLink" data-pltdoc="x">=</a></span><span class="stt"> </span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span><br/>
<span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not-function</span></span></span><span class="stt"> </span><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3d%29%29" class="RktValLink" data-pltdoc="x">=</a></span><span class="stt"> </span><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></span></div></p><p>Corresponds to a <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span></span> gate.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.And-function))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">And-function</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> when called without arguments,<br/>
else yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> if at least one <span class="nobreak"><span class="RktVar">signal</span></span> is <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>,<br/>
else yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> if all <span class="nobreak"><span class="RktVar">signal</span></span>s are <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>,<br/>
else yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></span>.</div></p><p>When called with 2 arguments, the function corresponds to an <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span></span> gate.<br/>
When called with 3 arguments, the function corresponds to an <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">And3</span></span></span></span> gate.</p><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">And-function</span></span></span></span> is commutative and associative in generalized sense.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.Nand-function))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand-function</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> when called without arguments,<br/>
else yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> if at least one <span class="nobreak"><span class="RktVar">signal</span></span> is <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>,<br/>
else yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> if all <span class="nobreak"><span class="RktVar">signal</span></span>s are <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>,<br/>
else yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></span>.</div></p><p>When called with 2 arguments, the function corresponds to a <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span></span> gate.<br/>
When called with 3 arguments, the function corresponds to a <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand3</span></span></span></span> gate.</p><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand-function</span></span></span></span> is commutative in generalized sense, but not associative.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.Or-function))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">Or-function</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> when called without arguments,<br/>
else yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> if at least one <span class="nobreak"><span class="RktVar">signal</span></span> is <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>,<br/>
else yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> if all <span class="nobreak"><span class="RktVar">signal</span></span>s are <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>,<br/>
else yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></span>.</div></p><p>When called with 2 arguments, the function corresponds to an <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Or</span></span></span></span> gate.<br/>
When called with 3 arguments, the function corresponds to an <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Or3</span></span></span></span> gate.</p><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Or-function</span></span></span></span> is commutative and associative in generalized sense.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.Nor-function))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nor-function</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> when called without arguments,<br/>
else yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> if at least one <span class="nobreak"><span class="RktVar">signal</span></span> is <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>,<br/>
else yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> if all <span class="nobreak"><span class="RktVar">signal</span></span>s are <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>,<br/>
else yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></span>.</div></p><p>When called with 2 arguments, the function corresponds to a <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nor</span></span></span></span> gate.<br/>
When called with 3 arguments, the function corresponds to a <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nor3</span></span></span></span> gate.</p><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nor-function</span></span></span></span> is commutative in generalized sense, but not associative.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.Xor-function))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">Xor-function</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> when called without arguments,<br/>
else yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></span> if at least one <span class="nobreak"><span class="RktVar">signal</span></span> is <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">?</span></span></span></span>,<br/>
else yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> if an odd number of <span class="nobreak"><span class="RktVar">signal</span></span>s is <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>,<br/>
else yields <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>.</div></p><p>When called with 2 arguments, the function corresponds to a <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Xor</span></span></span></span> gate.</p><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Xor-function</span></span></span></span> is commutative and associative in generalized sense.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.If-function))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">If-function</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">test</span><span class="hspace">&nbsp;</span><span class="RktVar">then</span><span class="hspace">&nbsp;</span><span class="RktVar">else</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">test</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">then</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">else</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Same as<br/>
<span class="stt">(</span><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Or-function</span></span></span></span><br/>
<span class="hspace">&nbsp;</span><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And-function</span></span></span><span class="stt"> </span><span class="RktVar">then</span><span class="stt"> </span><span class="RktVar">else</span><span class="RktPn">)</span></span>]<br/>
<span class="hspace">&nbsp;</span><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And-function</span></span></span><span class="stt"> </span><span class="RktVar">test</span><span class="stt"> </span><span class="RktVar">then</span><span class="RktPn">)</span></span><br/>
<span class="hspace">&nbsp;</span><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And-function</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not-function</span></span></span><span class="stt"> </span><span class="RktVar">test</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">else</span><span class="RktPn">)</span></span><span class="stt">)</span></div></p><p>Corresponds to an <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">If</span></span></span></span> gate.
The line <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And-function</span></span></span><span class="stt"> </span><span class="RktVar">then</span><span class="stt"> </span><span class="RktVar">else</span><span class="RktPn">)</span></span> assures that
a <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> is produced when the <span class="nobreak"><span class="RktVar">test</span></span> is indeterminate
and both <span class="nobreak"><span class="RktVar">then</span></span> and <span class="nobreak"><span class="RktVar">else</span></span> are <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._.Imply-function))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">Imply-function</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">premise</span><span class="hspace">&nbsp;</span><span class="RktVar">implication</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">premise</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">implication</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Same as
<span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Or-function</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not-function</span></span></span><span class="stt"> </span><span class="RktVar">premise</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">implication</span><span class="RktPn">)</span></span><br/>
Corresponds to an <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Imply</span></span></span></span> gate.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">((</span><a name="(def._((lib._circuit-simulation/circuits..rkt)._make-gate*-constr))"></a><span title="Provided from: circuit-simulation/circuits"><span class="RktSym"><span class="badlink"><span class="RktValLink">make-gate*-constr</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktVar">function</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">delay</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">circuit-constr?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">function</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">trit?</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">delay</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-positive-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-positive-integer?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Yields a gate constructor that accepts as many inputs as the <span class="nobreak"><span class="RktVar">function</span></span> accepts trits,
possibly a variable number of them.
Such constructors cannot be made with syntax <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span></span>.
The gate has one output with a delay of <span class="nobreak"><span class="RktVar">delay</span></span> units of time.
</div><div class="SIntrapara"><blockquote><p><span class="Smaller">Use of procedure <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">make-gate*-constr</span></span></span></span> is discouraged,
for malicious use may result in gates that share and can mutate each others internal state.
Therefore it is not mentioned in the <a href="#%28part._introduction%29" data-pltdoc="x">introduction</a>.</span></p></blockquote></div></p><h3 class="heading">12<tt>&nbsp;</tt><a name="(part._truth._tables)"></a>Truth tables<span class="button-group"><a href="#(part._truth._tables)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h3><p>Lines with determinate inputs only precede all lines <span class="nobreak">with an</span> indeterminate input.<br/>
When all inputs are determinate, the output is determinate too, of course.</p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="stt">Inputs</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span></span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Delay</span></span></span></span></p></td></tr><tr><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td></tr><tr><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td></tr><tr><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">?</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">?</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">?</span></p></td></tr></table></div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="stt">Inputs</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span></span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span></span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Or</span></span></span></span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nor</span></span></span></span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Xor</span></span></span></span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Imply</span></span></span></span></p></td></tr><tr><td align="center"><p><span class="stt">F F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td></tr><tr><td align="center"><p><span class="stt">F T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td></tr><tr><td align="center"><p><span class="stt">T F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td></tr><tr><td align="center"><p><span class="stt">T T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td></tr><tr><td align="center"><p><span class="stt">F ?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td></tr><tr><td align="center"><p><span class="stt">T ?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td></tr><tr><td align="center"><p><span class="stt">? F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td></tr><tr><td align="center"><p><span class="stt">? T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td></tr><tr><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">? ?</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">?</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">?</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">?</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">?</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">?</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">?</span></p></td></tr></table></div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="stt">Inputs</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">And3</span></span></span></span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand3</span></span></span></span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Or3</span></span></span></span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Nor3</span></span></span></span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">If</span></span></span></span></p></td></tr><tr><td align="center"><p><span class="stt">F F F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td></tr><tr><td align="center"><p><span class="stt">F F T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td></tr><tr><td align="center"><p><span class="stt">F T F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td></tr><tr><td align="center"><p><span class="stt">F T T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td></tr><tr><td align="center"><p><span class="stt">T F F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td></tr><tr><td align="center"><p><span class="stt">T F T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td></tr><tr><td align="center"><p><span class="stt">T T F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td></tr><tr><td align="center"><p><span class="stt">T T T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td></tr><tr><td align="center"><p><span class="stt">F F ?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td></tr><tr><td align="center"><p><span class="stt">F T ?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td></tr><tr><td align="center"><p><span class="stt">F ? F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td></tr><tr><td align="center"><p><span class="stt">F ? T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td></tr><tr><td align="center"><p><span class="stt">T F ?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td></tr><tr><td align="center"><p><span class="stt">T T ?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td></tr><tr><td align="center"><p><span class="stt">T ? F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td></tr><tr><td align="center"><p><span class="stt">T ? T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td></tr><tr><td align="center"><p><span class="stt">? F F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td></tr><tr><td align="center"><p><span class="stt">? F T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td></tr><tr><td align="center"><p><span class="stt">? T F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td></tr><tr><td align="center"><p><span class="stt">? T T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td></tr><tr><td align="center"><p><span class="stt">F ? ?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td></tr><tr><td align="center"><p><span class="stt">T ? ?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td></tr><tr><td align="center"><p><span class="stt">? F ?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td></tr><tr><td align="center"><p><span class="stt">? T ?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td></tr><tr><td align="center"><p><span class="stt">? ? F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td></tr><tr><td align="center"><p><span class="stt">? ? T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">?</span></p></td></tr><tr><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">? ? ?</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">?</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">?</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">?</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">?</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">?</span></p></td></tr></table></div></p><h3 class="heading">13<tt>&nbsp;</tt><a name="(part._.More._examples)"></a>More examples<span class="button-group"><a href="#(part._.More._examples)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h3><h4 class="heading">13.1<tt>&nbsp;</tt><a name="(part._.Synchronization)"></a>Synchronization<span class="button-group"><a href="#(part._.Synchronization)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h4><p>A <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Delay</span></span></span></span> gate can be used for synchronization.
As an example consider an alternative construction of a
<span class="nobreak"><a href="#%28part._.D-flip-flop-section%29" data-pltdoc="x">D-flip-flop</a></span>.
The new state of a <span class="nobreak"><a href="#%28part._.D-flip-flop-section%29" data-pltdoc="x">D-flip-flop</a></span> obeys the formula:</p><blockquote><p><span class="stt">new-state =</span> <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Or</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span><span class="stt"> </span><span class="RktSym">in</span><span class="stt"> </span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">old-state</span><span class="RktPn">)</span><span class="RktPn">)</span></span></p></blockquote><p>which is the same as:</p><blockquote><p><span class="stt">new-state =</span> <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktSym">in</span><span class="stt"> </span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="stt"> </span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">old-state</span><span class="RktPn">)</span><span class="RktPn">)</span></span></p></blockquote><p>Let&rsquo;s try a diagram according to this formula:
<a name="(elem._another-.D-flip-flop)"></a></p><blockquote><p><img src="another-d-flip-flop.gif" alt="" width="363" height="158"/></p></blockquote><p>Let&rsquo;s call it <span class="stt">another-D-flip-flop</span>.
For the moment ignore the triangle in wire <span class="stt">a</span>.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Another-D-flip-flop-constr</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Another-D-flip-flop</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">in</span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">state</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">in</span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">state</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">state</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Set the flip-flop.</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define-wires</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">wire-in</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">in</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">wire-clock</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">clock</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">wire-state</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">state</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">Another-D-flip-flop-constr</span><span class="hspace">&nbsp;</span><span class="RktSym">wire-in</span><span class="hspace">&nbsp;</span><span class="RktSym">wire-clock</span><span class="hspace">&nbsp;</span><span class="RktSym">wire-state</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-report</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">report-wire-width</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">time 1 : a </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: ? -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 2 : b </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: ? -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 2 : state : ? -&gt; T</span></p></td></tr></table></td></tr></table></blockquote><p>This seems to work,
but look what happens after dropping the <span class="stt">clock</span> to <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">wire-clock</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time-limit</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-report</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">time 3 : clock : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 4 : a </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 5 : b </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 5 : state : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 6 : b </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 6 : state : F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 7 : b </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 7 : state : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 8 : b </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 8 : state : F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 9 : b </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 9 : state : T -&gt; F</span></p></td></tr></table></td></tr><tr><td><p><span class="RktErr">agenda-execute!: time-limit 9 exceeded</span></p></td></tr></table></blockquote><p>There is a mutual dependency between signals <span class="stt">b</span> and <span class="stt">state</span>. They oscillate.
This is caused by the fact that signal <span class="stt">b</span> switches one time step later than signal <span class="stt">a</span>.
<span class="stt">b</span> and <span class="stt">state</span> switch at the same time.
We can repair this by delaying the signal of <span class="stt">a</span>,
in the diagram shown as a triangle (without inversion circle at its output at the right).</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Another-D-flip-flop-constr</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Another-D-flip-flop</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">in</span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">state</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">delayed-a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Delay</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">in</span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">state</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">state</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">delayed-a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define-wires</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">wire-in</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">in</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">wire-clock</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">clock</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">wire-state</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">state</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">Another-D-flip-flop-constr</span><span class="hspace">&nbsp;</span><span class="RktSym">wire-in</span><span class="hspace">&nbsp;</span><span class="RktSym">wire-clock</span><span class="hspace">&nbsp;</span><span class="RktSym">wire-state</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-println</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">wire-state</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">state=T</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">wire-clock</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">report-wire-width</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-report</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">time 4 : clock </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 6 : b </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 6 : delayed-a : F -&gt; T</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-println</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">wire-state</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">state=T</span></p></td></tr></table></blockquote><p>And now it works.
Notice that the <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Delay</span></span></span></span> gate is triggered. Its result doesn&rsquo;t matter
because at the same time 6 signal <span class="stt">b</span> drops to <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>.</p><h4 class="heading">13.2<tt>&nbsp;</tt><a name="(part._.Clock)"></a>Clock<span class="button-group"><a href="#(part._.Clock)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h4><p>A <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">Delay</span></span></span></span> gate can be used to make a clock.<br/>
The one shown below has one input <span class="stt">on/off</span> and one output <span class="stt">clock</span>.<br/>
While <span class="stt">on/off</span>=<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>, the <span class="stt">clock</span> remains <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span>.<br/>
While <span class="stt">on/off</span>=<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span>, the <span class="stt">clock</span> switches after every 10 units of time.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Clock</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Clock</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">on/off</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">clock</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">clock</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">on/off</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Delay</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Delay 7, but And and Not add 3 units of time, total delay 10.</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">clock</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">on/off</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">on/off</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">Clock</span><span class="hspace">&nbsp;</span><span class="RktSym">on/off</span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">report-wire-width</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">report-time-width</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-report</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-sequence!</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">on/off</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">18</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">69</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">0 : on/off : ? -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">2 : clock</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: ? -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 18 : on/off : F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 20 : clock</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 30 : clock</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 40 : clock</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 50 : clock</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 60 : clock</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: F -&gt; T</span></p></td></tr><tr><td><p><span class="RktOut">time 69 : on/off : T -&gt; F</span></p></td></tr><tr><td><p><span class="RktOut">time 70 : clock</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">: T -&gt; F</span></p></td></tr></table></td></tr></table></blockquote><h4 class="heading">13.3<tt>&nbsp;</tt><a name="(part._.Addition)"></a>Addition<span class="button-group"><a href="#(part._.Addition)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h4><p>First a 1 bit adder. A full-adder can be made with two half-adders.<br/>
Therefore we first define a half-adder:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">make-half-adder</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">make-half-adder</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">inputs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">outputs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sum</span><span class="hspace">&nbsp;</span><span class="RktSym">carry-out</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">gates</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">carry-out</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sum</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Or</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">carry-out</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><p>Now we can define the full-adder:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">make-full-adder</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">full-adder</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">inputs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">carry-in</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">outputs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sum</span><span class="hspace">&nbsp;</span><span class="RktSym">carry-out</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">subcircuits</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">half-sum</span><span class="hspace">&nbsp;</span><span class="RktSym">carry-1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-half-adder</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">carry-in</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">sum</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">carry-2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-half-adder</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">half-sum</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">carry-out</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Or</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">carry-1</span><span class="hspace">&nbsp;</span><span class="RktSym">carry-2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><p>Let&rsquo;s test the full-adder:</p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">wa</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">wb</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">wc</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">sum</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">sum</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">carry-out</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">carry-out</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">make-full-adder</span><span class="hspace">&nbsp;</span><span class="RktSym">wa</span><span class="hspace">&nbsp;</span><span class="RktSym">wb</span><span class="hspace">&nbsp;</span><span class="RktSym">wc</span><span class="hspace">&nbsp;</span><span class="RktSym">sum</span><span class="hspace">&nbsp;</span><span class="RktSym">carry-out</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/for.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._for%2A%29%29" class="RktStxLink" data-pltdoc="x">for*</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">in-bits</span></span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">in-bits</span></span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">in-bits</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">wa</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">wb</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">wc</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._printf%29%29" class="RktValLink" data-pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"full-adder a=~s, b=~s, carry-in=~s"</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._printf%29%29" class="RktValLink" data-pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">" --&gt; sum=~s, carry-out=~s, delay=~s~n"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-signal</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">sum</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-signal</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">carry-out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._sub1%29%29" class="RktValLink" data-pltdoc="x">sub1</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-time</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-reset!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">result</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._format%29%29" class="RktValLink" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"~s ~s"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-signal</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">sum</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-signal</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">carry-out</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/when_unless.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._unless%29%29" class="RktStxLink" data-pltdoc="x">unless</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._count%29%29" class="RktValLink" data-pltdoc="x">count</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T?</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">result</span><span class="hspace">&nbsp;</span><span class="RktVal">"F F"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">result</span><span class="hspace">&nbsp;</span><span class="RktVal">"T F"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">result</span><span class="hspace">&nbsp;</span><span class="RktVal">"F T"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">result</span><span class="hspace">&nbsp;</span><span class="RktVal">"T T"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/exns.html#%28def._%28%28quote._~23~25kernel%29._error%29%29" class="RktValLink" data-pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">full-adder</span><span class="hspace">&nbsp;</span><span class="RktVal">"~s"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktSym">result</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">full-adder a=F, b=F, carry-in=F --&gt; sum=F, carry-out=F, delay=8</span></p></td></tr><tr><td><p><span class="RktOut">full-adder a=F, b=F, carry-in=T --&gt; sum=T, carry-out=F, delay=8</span></p></td></tr><tr><td><p><span class="RktOut">full-adder a=F, b=T, carry-in=F --&gt; sum=T, carry-out=F, delay=1</span></p></td></tr><tr><td><p><span class="RktOut">full-adder a=F, b=T, carry-in=T --&gt; sum=F, carry-out=T, delay=9</span></p></td></tr><tr><td><p><span class="RktOut">full-adder a=T, b=F, carry-in=F --&gt; sum=T, carry-out=F, delay=4</span></p></td></tr><tr><td><p><span class="RktOut">full-adder a=T, b=F, carry-in=T --&gt; sum=F, carry-out=T, delay=9</span></p></td></tr><tr><td><p><span class="RktOut">full-adder a=T, b=T, carry-in=F --&gt; sum=F, carry-out=T, delay=1</span></p></td></tr><tr><td><p><span class="RktOut">full-adder a=T, b=T, carry-in=T --&gt; sum=T, carry-out=T, delay=10</span></p></td></tr></table></td></tr></table></blockquote></div></p><p>Full adders can be put in a row such as to make an adder for numbers
of more than one bit. We prepare a two&rsquo;s complement 6-bit adder with overflow detection.
It has 13 inputs: 6 for the first operand in order of decreasing significance,
followed by 6 inputs for the second operand in order of decreasing significance
and finally the carry-in bit.
It has 8 outputs: the 6 bits of the sum in order of decreasing significance,
the carry-out bit and an overflow indicator.</p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-6-wires</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/procedures.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._apply%29%29" class="RktValLink" data-pltdoc="x">apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/values.html#%28def._%28%28quote._~23~25kernel%29._values%29%29" class="RktValLink" data-pltdoc="x">values</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Flist..rkt%29._build-list%29%29" class="RktValLink" data-pltdoc="x">build-list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">6</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~ce~bb%29%29" class="RktStxLink" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">i</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._string-~3esymbol%29%29" class="RktValLink" data-pltdoc="x">string-&gt;symbol</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._format%29%29" class="RktValLink" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"~s~s"</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28quote._~23~25kernel%29._define-values%29%29" class="RktStxLink" data-pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a0</span><span class="hspace">&nbsp;</span><span class="RktSym">a1</span><span class="hspace">&nbsp;</span><span class="RktSym">a2</span><span class="hspace">&nbsp;</span><span class="RktSym">a3</span><span class="hspace">&nbsp;</span><span class="RktSym">a4</span><span class="hspace">&nbsp;</span><span class="RktSym">a5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-6-wires</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28quote._~23~25kernel%29._define-values%29%29" class="RktStxLink" data-pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b0</span><span class="hspace">&nbsp;</span><span class="RktSym">b1</span><span class="hspace">&nbsp;</span><span class="RktSym">b2</span><span class="hspace">&nbsp;</span><span class="RktSym">b3</span><span class="hspace">&nbsp;</span><span class="RktSym">b4</span><span class="hspace">&nbsp;</span><span class="RktSym">b5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-6-wires</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28quote._~23~25kernel%29._define-values%29%29" class="RktStxLink" data-pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">s0</span><span class="hspace">&nbsp;</span><span class="RktSym">s1</span><span class="hspace">&nbsp;</span><span class="RktSym">s2</span><span class="hspace">&nbsp;</span><span class="RktSym">s3</span><span class="hspace">&nbsp;</span><span class="RktSym">s4</span><span class="hspace">&nbsp;</span><span class="RktSym">s5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-6-wires</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">s</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">carry-in</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">carry-in</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">carry-out</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">carry-out</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">overflow</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">overflow</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">make-6-bit-adder</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">6-bit-adder</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">inputs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a5</span><span class="hspace">&nbsp;</span><span class="RktSym">a4</span><span class="hspace">&nbsp;</span><span class="RktSym">a3</span><span class="hspace">&nbsp;</span><span class="RktSym">a2</span><span class="hspace">&nbsp;</span><span class="RktSym">a1</span><span class="hspace">&nbsp;</span><span class="RktSym">a0</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">b5</span><span class="hspace">&nbsp;</span><span class="RktSym">b4</span><span class="hspace">&nbsp;</span><span class="RktSym">b3</span><span class="hspace">&nbsp;</span><span class="RktSym">b2</span><span class="hspace">&nbsp;</span><span class="RktSym">b1</span><span class="hspace">&nbsp;</span><span class="RktSym">b0</span><span class="hspace">&nbsp;</span><span class="RktSym">carry-in</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">outputs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">s5</span><span class="hspace">&nbsp;</span><span class="RktSym">s4</span><span class="hspace">&nbsp;</span><span class="RktSym">s3</span><span class="hspace">&nbsp;</span><span class="RktSym">s2</span><span class="hspace">&nbsp;</span><span class="RktSym">s1</span><span class="hspace">&nbsp;</span><span class="RktSym">s0</span><span class="hspace">&nbsp;</span><span class="RktSym">carry-out</span><span class="hspace">&nbsp;</span><span class="RktSym">overflow</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">subcircuits</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">s0</span><span class="hspace">&nbsp;</span><span class="RktSym">c1</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-full-adder</span><span class="hspace">&nbsp;</span><span class="RktSym">a0</span><span class="hspace">&nbsp;</span><span class="RktSym">b0</span><span class="hspace">&nbsp;</span><span class="RktSym">carry-in</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">s1</span><span class="hspace">&nbsp;</span><span class="RktSym">c2</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-full-adder</span><span class="hspace">&nbsp;</span><span class="RktSym">a1</span><span class="hspace">&nbsp;</span><span class="RktSym">b1</span><span class="hspace">&nbsp;</span><span class="RktSym">c1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">s2</span><span class="hspace">&nbsp;</span><span class="RktSym">c3</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-full-adder</span><span class="hspace">&nbsp;</span><span class="RktSym">a2</span><span class="hspace">&nbsp;</span><span class="RktSym">b2</span><span class="hspace">&nbsp;</span><span class="RktSym">c2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">s3</span><span class="hspace">&nbsp;</span><span class="RktSym">c4</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-full-adder</span><span class="hspace">&nbsp;</span><span class="RktSym">a3</span><span class="hspace">&nbsp;</span><span class="RktSym">b3</span><span class="hspace">&nbsp;</span><span class="RktSym">c3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">s4</span><span class="hspace">&nbsp;</span><span class="RktSym">c5</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-full-adder</span><span class="hspace">&nbsp;</span><span class="RktSym">a4</span><span class="hspace">&nbsp;</span><span class="RktSym">b4</span><span class="hspace">&nbsp;</span><span class="RktSym">c4</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">s5</span><span class="hspace">&nbsp;</span><span class="RktSym">carry-out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-full-adder</span><span class="hspace">&nbsp;</span><span class="RktSym">a5</span><span class="hspace">&nbsp;</span><span class="RktSym">b5</span><span class="hspace">&nbsp;</span><span class="RktSym">c5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">overflow</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Xor</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">c5</span><span class="hspace">&nbsp;</span><span class="RktSym">carry-out</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">make-6-bit-adder</span><span class="hspace">&nbsp;</span><span class="RktSym">a5</span><span class="hspace">&nbsp;</span><span class="RktSym">a4</span><span class="hspace">&nbsp;</span><span class="RktSym">a3</span><span class="hspace">&nbsp;</span><span class="RktSym">a2</span><span class="hspace">&nbsp;</span><span class="RktSym">a1</span><span class="hspace">&nbsp;</span><span class="RktSym">a0</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">b5</span><span class="hspace">&nbsp;</span><span class="RktSym">b4</span><span class="hspace">&nbsp;</span><span class="RktSym">b3</span><span class="hspace">&nbsp;</span><span class="RktSym">b2</span><span class="hspace">&nbsp;</span><span class="RktSym">b1</span><span class="hspace">&nbsp;</span><span class="RktSym">b0</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">carry-in</span><span class="hspace">&nbsp;</span><span class="RktSym">s5</span><span class="hspace">&nbsp;</span><span class="RktSym">s4</span><span class="hspace">&nbsp;</span><span class="RktSym">s3</span><span class="hspace">&nbsp;</span><span class="RktSym">s2</span><span class="hspace">&nbsp;</span><span class="RktSym">s1</span><span class="hspace">&nbsp;</span><span class="RktSym">s0</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">carry-out</span><span class="hspace">&nbsp;</span><span class="RktSym">overflow</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p><p>Let&rsquo;s test this 6-bit adder.<br/>
For this purpose we need conversion between numbers and lists of bits:</p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">number-&gt;bit-list</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/for.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._for%2Ffold%29%29" class="RktStxLink" data-pltdoc="x">for/fold</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">mask</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:result</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/sequences.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._in-range%29%29" class="RktValLink" data-pltdoc="x">in-range</a></span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/values.html#%28def._%28%28quote._~23~25kernel%29._values%29%29" class="RktValLink" data-pltdoc="x">values</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._arithmetic-shift%29%29" class="RktValLink" data-pltdoc="x">arithmetic-shift</a></span><span class="hspace">&nbsp;</span><span class="RktSym">mask</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cons%29%29" class="RktValLink" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._zero~3f%29%29" class="RktValLink" data-pltdoc="x">zero?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._bitwise-and%29%29" class="RktValLink" data-pltdoc="x">bitwise-and</a></span><span class="hspace">&nbsp;</span><span class="RktSym">mask</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">bit-list-&gt;number</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/for.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._for%2Ffold%29%29" class="RktStxLink" data-pltdoc="x">for/fold</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:result</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3e%29%29" class="RktValLink" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktVal">31</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktVal">64</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">bit</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/sequences.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._in-list%29%29" class="RktValLink" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Flist..rkt%29._reverse%29%29" class="RktValLink" data-pltdoc="x">reverse</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/values.html#%28def._%28%28quote._~23~25kernel%29._values%29%29" class="RktValLink" data-pltdoc="x">values</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">bit</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._arithmetic-shift%29%29" class="RktValLink" data-pltdoc="x">arithmetic-shift</a></span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p><p>Let&rsquo;s check <span class="stt">number-&gt;bit-list</span> and <span class="stt">bit-list-&gt;number</span>:</p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/for.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._for%2Fand%29%29" class="RktStxLink" data-pltdoc="x">for/and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/sequences.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._in-range%29%29" class="RktValLink" data-pltdoc="x">in-range</a></span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-3</span>2</span><span class="hspace">&nbsp;</span><span class="RktVal">32</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3d%29%29" class="RktValLink" data-pltdoc="x">=</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">bit-list-&gt;number</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">number-&gt;bit-list</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-bit-list</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">consF</span><span class="hspace">&nbsp;</span><span class="RktSym">bit-list</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cons%29%29" class="RktValLink" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">bit-list</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">consT</span><span class="hspace">&nbsp;</span><span class="RktSym">bit-list</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cons%29%29" class="RktValLink" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">bit-list</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._zero~3f%29%29" class="RktValLink" data-pltdoc="x">zero?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">bit-list</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-bit-list</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._sub1%29%29" class="RktValLink" data-pltdoc="x">sub1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._append%29%29" class="RktValLink" data-pltdoc="x">append</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym">consF</span><span class="hspace">&nbsp;</span><span class="RktSym">bit-list</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym">consT</span><span class="hspace">&nbsp;</span><span class="RktSym">bit-list</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/for.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._for%2Fand%29%29" class="RktStxLink" data-pltdoc="x">for/and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/sequences.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._in-list%29%29" class="RktValLink" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-bit-list</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">number-&gt;bit-list</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">bit-list-&gt;number</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p>Now we can do the test on the 6-bit adder:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/for.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._for%2A%2Fand%29%29" class="RktStxLink" data-pltdoc="x">for*/and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/sequences.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._in-range%29%29" class="RktValLink" data-pltdoc="x">in-range</a></span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-3</span>2</span><span class="hspace">&nbsp;</span><span class="RktVal">32</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">m</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/sequences.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._in-range%29%29" class="RktValLink" data-pltdoc="x">in-range</a></span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-3</span>2</span><span class="hspace">&nbsp;</span><span class="RktVal">32</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-reset!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/for.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._for%29%29" class="RktStxLink" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">a-wire</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/sequences.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._in-list%29%29" class="RktValLink" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a5</span><span class="hspace">&nbsp;</span><span class="RktSym">a4</span><span class="hspace">&nbsp;</span><span class="RktSym">a3</span><span class="hspace">&nbsp;</span><span class="RktSym">a2</span><span class="hspace">&nbsp;</span><span class="RktSym">a1</span><span class="hspace">&nbsp;</span><span class="RktSym">a0</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a-bit</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/sequences.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._in-list%29%29" class="RktValLink" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">number-&gt;bit-list</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b-wire</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/sequences.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._in-list%29%29" class="RktValLink" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b5</span><span class="hspace">&nbsp;</span><span class="RktSym">b4</span><span class="hspace">&nbsp;</span><span class="RktSym">b3</span><span class="hspace">&nbsp;</span><span class="RktSym">b2</span><span class="hspace">&nbsp;</span><span class="RktSym">b1</span><span class="hspace">&nbsp;</span><span class="RktSym">b0</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b-bit</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/sequences.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._in-list%29%29" class="RktValLink" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">number-&gt;bit-list</span><span class="hspace">&nbsp;</span><span class="RktSym">m</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">a-wire</span><span class="hspace">&nbsp;</span><span class="RktSym">a-bit</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">b-wire</span><span class="hspace">&nbsp;</span><span class="RktSym">b-bit</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">carry-in</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n+m</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktSym">m</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3c~3d%29%29" class="RktValLink" data-pltdoc="x">&lt;=</a></span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-3</span>2</span><span class="hspace">&nbsp;</span><span class="RktSym">n+m</span><span class="hspace">&nbsp;</span><span class="RktVal">31</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3d%29%29" class="RktValLink" data-pltdoc="x">=</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">bit-list-&gt;number</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-signal</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s5</span><span class="hspace">&nbsp;</span><span class="RktSym">s4</span><span class="hspace">&nbsp;</span><span class="RktSym">s3</span><span class="hspace">&nbsp;</span><span class="RktSym">s2</span><span class="hspace">&nbsp;</span><span class="RktSym">s1</span><span class="hspace">&nbsp;</span><span class="RktSym">s0</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">n+m</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T?</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-signal</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">overflow</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/exns.html#%28def._%28%28quote._~23~25kernel%29._error%29%29" class="RktValLink" data-pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">6-bit-adder</span><span class="hspace">&nbsp;</span><span class="RktVal">"test fails"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote><p>One can put 6-bit adders in a row for the preparation of a 12 bit, 18 bit
or any 6n bit adder. In such a row the overflow bit of the 6-bit adders
can be ignored, except that of the most significant one.
An n-bit two&rsquo;s complement adder can be used for numbers in the range
from <span class="stt">-2<span style="vertical-align: super; font-size: 80%">n-1</span></span> up to but not including <span class="stt">2<span style="vertical-align: super; font-size: 80%">n-1</span></span>.
It can also be used for non-negative numbers
in the range from <span class="nobreak"><span class="RktVal">0</span></span> up to but not including <span class="stt">2<span style="vertical-align: super; font-size: 80%">n</span></span>.
In that case the overflow bit is meaningless and
the carry-out bit being <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> indicates overflow.</p><h4 class="heading">13.4<tt>&nbsp;</tt><a name="(part._twin-flip-flop-section)"></a>Twin-flip-flop<span class="button-group"><a href="#(part._twin-flip-flop-section)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h4><p><div class="SIntrapara"><blockquote><p><span class="Smaller">A twin-flip-flop usually is called a &#8216;master-slave flip-flop&#8217;,
but that&rsquo;s not a happy name, I think.</span></p></blockquote></div><div class="SIntrapara">There are several ways to make a twin-flip-flop.
For the present example two SR-flip-flops are used.
Such a flip-flop has three inputs, say <span class="stt">S</span>, <span class="stt">R</span> and <span class="stt">clock</span>.
It has two outputs, say <span class="stt">Q</span> and <span class="stt">P</span>
(in the <a href="#%28elem._.D-flip-flop-diagram%29" data-pltdoc="x">D-flip-flop</a> called <span class="stt">state</span> and <span class="stt">state-inverse</span>)
We first define an SR-flip-flop:</div></p><blockquote><p><span class="Smaller">Usually the outputs of a flip-flop are called <span class="stt">Q</span> and a <span class="stt">Q</span> with a bar above it.<br/>
However, I don&rsquo;t know how to make scribble put a bar above a character.<br/>
Read &#8216;<span class="stt">P</span>&#8217; as &#8216;<span class="stt">Q</span>&#8217; with a bar above it.</span></p></blockquote><blockquote><p><img src="sr-flip-flop.gif" alt="" width="315" height="162"/></p></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">make-SR-flip-flop</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">SR-flip-flop</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">S</span><span class="hspace">&nbsp;</span><span class="RktSym">R</span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">inputs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Q</span><span class="hspace">&nbsp;</span><span class="RktSym">P</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">outputs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">gates</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Q</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">S</span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">P</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">P</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">R</span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">Q</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><p>The state transition table for an SR-flip-flop after a <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> pulse on the <span class="stt">clock</span> is as follows:</p><blockquote><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="stt">S</span></p></td><td style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="stt">R</span></p></td><td style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="stt">Q</span></p></td><td style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="stt">P</span></p></td><td style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>new <span class="stt">Q</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>new <span class="stt">P</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>Action/warning</p></td></tr><tr><td><p><span class="stt">F</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt">F</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt">Q</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt">P</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">Q</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">P</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>State preserved</p></td></tr><tr><td><p><span class="stt">F</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt">T</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt"> </span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt"> </span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>Reset</p></td></tr><tr><td><p><span class="stt">T</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt">F</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt"> </span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt"> </span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>Set</p></td></tr><tr><td style="border-bottom: 1px solid black;"><p><span class="sroman"><span style="color: red"><span class="stt">T</span></span></span></p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p><span class="sroman"><span style="color: red"><span class="stt">T</span></span></span></p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;" colspan="7"><p> </p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left" style="border-bottom: 1px solid black;"><p><span class="sroman"><span style="color: red">Do not clock this</span></span></p></td></tr></table></blockquote><p>A twin-flip-flop has three inputs: <span class="stt">J</span>, <span class="stt">K</span> and <span class="stt">clock</span>.
It has two outputs: <span class="stt">Q</span> and <span class="stt">P</span>.<br/>
The state transition table for a twin-flip-flop after a <span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> pulse on the
<span class="stt">clock</span> is as follows:</p><blockquote><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="stt">J</span></p></td><td style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="stt">K</span></p></td><td style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="stt">Q</span></p></td><td style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="stt">P</span></p></td><td style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>new <span class="stt">Q</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>new <span class="stt">P</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>Action</p></td></tr><tr><td><p><span class="stt">F</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt">F</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt">Q</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt">P</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">Q</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">P</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>No change (provided already stable)</p></td></tr><tr><td><p><span class="stt">F</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt">T</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt"> </span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt"> </span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>Reset</p></td></tr><tr><td><p><span class="stt">T</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt">F</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt"> </span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p><span class="stt"> </span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">T</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p><span class="stt">F</span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>Set</p></td></tr><tr><td style="border-bottom: 1px solid black;"><p><span class="stt">T</span></p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p><span class="stt">T</span></p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p><span class="stt">Q</span></p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p><span class="stt">P</span></p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">P</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="stt">Q</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left" style="border-bottom: 1px solid black;"><p>Flip (provided already stable)</p></td></tr></table></blockquote><p>Twin-flip-flops can be made in several ways.
Here the diagram below is used.<br/> The two rectangular components are SR-flip-flops.
Don&rsquo;t be confused by the fact that an input or output wire of a subcircuit may be identified by
another identifier than within the circuit the subcircuit is part of.
<span class="nobreak">In such</span> case there is one wire only and its name is determined by the outer circuit.</p><blockquote><p><img src="twin-flip-flop.gif" alt="" width="412" height="179"/></p></blockquote><p>In contrast to an SR-flip-flop, the twin-flip-flop allows clocking with <span class="nobreak"><span class="stt">J</span>=<span class="stt">K</span>=<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span></span>
in which case it flips its outputs.
This requires feed back of signals <span class="stt">Q</span> and <span class="stt">P</span> to the <span class="stt">S</span> and <span class="stt">R</span> inputs
of the first SR-flip-flop.
In order to clock the twin-flip-flop we need two calls,
one with <span class="stt">clock</span>=<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> to set or reset or flip the first SR-flip-flop or to leave it as it is and
<span class="nobreak">one call</span> with <span class="stt">clock</span>=<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> in order to copy the state of the first SR-flip-flop
into the second one.
<span class="stt">clock</span>=<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span></span> may change the first SR-flip-flop but leaves the second one unaffected.
<span class="stt">clock</span>=<span class="nobreak"><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span></span> leaves the first SR-flip-flop unaffected and
copies the state of the first one into the second one.
Now we can define a constructor for the twin-flip-flop:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">make-twin-flip-flop</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">make-circuit-constr</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">twin-flip-flop</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">J</span><span class="hspace">&nbsp;</span><span class="RktSym">K</span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Q</span><span class="hspace">&nbsp;</span><span class="RktSym">P</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">S1</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">J</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">Q</span><span class="hspace">&nbsp;</span><span class="RktSym">K</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">R1</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">K</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Nand</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">P</span><span class="hspace">&nbsp;</span><span class="RktSym">J</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">Q1</span><span class="hspace">&nbsp;</span><span class="RktSym">P1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-SR-flip-flop</span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="hspace">&nbsp;</span><span class="RktSym">R1</span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">Q</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">P</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-SR-flip-flop</span><span class="hspace">&nbsp;</span><span class="RktSym">Q1</span><span class="hspace">&nbsp;</span><span class="RktSym">P1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><p>Notice that although the diagram of the twin-flip-flop seems complicated,<br/>
the code for its constructor is rather simple.</p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">J</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">J</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">K</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">K</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">clock</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Q</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">Q</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">P</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-make</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">P</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">make-twin-flip-flop</span><span class="hspace">&nbsp;</span><span class="RktSym">J</span><span class="hspace">&nbsp;</span><span class="RktSym">K</span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="hspace">&nbsp;</span><span class="RktSym">Q</span><span class="hspace">&nbsp;</span><span class="RktSym">P</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>Let&rsquo;s test clocking the twin-flip-flop for all <span class="stt">J</span>, <span class="stt">K</span> and old state.
First three helper procedures for testing and clocking and for description of the action:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check</span><span class="hspace">&nbsp;</span><span class="RktSym">signal</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Checks that wires Q and P have the expected signals.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/when_unless.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._unless%29%29" class="RktStxLink" data-pltdoc="x">unless</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._and%29%29" class="RktStxLink" data-pltdoc="x">and</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-signal</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">Q</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">signal</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-signal</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">P</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not-function</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">signal</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/exns.html#%28def._%28%28quote._~23~25kernel%29._error%29%29" class="RktValLink" data-pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">twin-flip-flop</span><span class="hspace">&nbsp;</span><span class="RktVal">"test failed"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><p>The clock pulse must last long enough to allow<br/>
the signals to flow through the first <span class="nobreak">SR-flip-flop</span>.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">clock-the-twin-flip-flop</span><span class="hspace">&nbsp;</span><span class="RktSym">j</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-reset!</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">J</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">j</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">K</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">T</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-schedule!</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">clock</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">F</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">agenda-execute!</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">action</span><span class="hspace">&nbsp;</span><span class="RktSym">j</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktSym">old-q</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._format%29%29" class="RktValLink" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"~s ~s ~s"</span><span class="hspace">&nbsp;</span><span class="RktSym">j</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktSym">old-q</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">"F F F"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"no action"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">"F T F"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"reset (was already reset)"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">"T F F"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"set"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">"T T F"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"flip"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">"F F T"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"no action"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">"F T T"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"reset"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">"T F T"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"set (was already set)"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">"T T T"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"flip"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><p>Now the tests:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/for.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._for%2A%29%29" class="RktStxLink" data-pltdoc="x">for*</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">j</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">in-bits</span></span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">in-bits</span></span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">old-q</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">in-bits</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">First put the twin-flip-flop in state Q=old-q.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">clock-the-twin-flip-flop</span><span class="hspace">&nbsp;</span><span class="RktSym">old-q</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not-function</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">old-q</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Check that the flip-flop is initialized properly:</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check</span><span class="hspace">&nbsp;</span><span class="RktSym">old-q</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Now clock the flip-flop with J=j and K=k.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">clock-the-twin-flip-flop</span><span class="hspace">&nbsp;</span><span class="RktSym">j</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Check the results.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Or-function</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And-function</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">j</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not-function</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">old-q</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">And-function</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">old-q</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Not-function</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Show results.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._printf%29%29" class="RktValLink" data-pltdoc="x">printf</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"J=~s, K=~s, old-Q=~s --&gt; ~a, ~a~n"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">j</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktSym">old-q</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">wire-println</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">#:port</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">string</span><span class="hspace">&nbsp;</span><span class="RktPn">#:sep</span><span class="hspace">&nbsp;</span><span class="RktVal">", "</span><span class="hspace">&nbsp;</span><span class="RktSym">Q</span><span class="hspace">&nbsp;</span><span class="RktSym">P</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">action</span><span class="hspace">&nbsp;</span><span class="RktSym">j</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktSym">old-q</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">J=F, K=F, old-Q=F --&gt; Q=F, P=T, no action</span></p></td></tr><tr><td><p><span class="RktOut">J=F, K=F, old-Q=T --&gt; Q=T, P=F, no action</span></p></td></tr><tr><td><p><span class="RktOut">J=F, K=T, old-Q=F --&gt; Q=F, P=T, reset (was already reset)</span></p></td></tr><tr><td><p><span class="RktOut">J=F, K=T, old-Q=T --&gt; Q=F, P=T, reset</span></p></td></tr><tr><td><p><span class="RktOut">J=T, K=F, old-Q=F --&gt; Q=T, P=F, set</span></p></td></tr><tr><td><p><span class="RktOut">J=T, K=F, old-Q=T --&gt; Q=T, P=F, set (was already set)</span></p></td></tr><tr><td><p><span class="RktOut">J=T, K=T, old-Q=F --&gt; Q=T, P=F, flip</span></p></td></tr><tr><td><p><span class="RktOut">J=T, K=T, old-Q=T --&gt; Q=F, P=T, flip</span></p></td></tr></table></td></tr></table></blockquote><h3 class="heading">14<tt>&nbsp;</tt><a name="(part._.Exact_timing_)"></a>Exact timing?<span class="button-group"><a href="#(part._.Exact_timing_)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span></h3><p>The simulators described in the present document,
change signals instantaneously and at exact times.
In real life circuits this is not the case.
I gladly leave the details to experts with more knowledge about electronic circuits.
I suspect that the simulators are of little use in practice.
At best they can be used for preliminary tests of correctness.
Anyway, <span class="nobreak">I hope</span> my module can be a nice toy for some of you.</p><p><span style="font-weight: bold"><span class="Larger">The end</span></span></p></div></div><div id="contextindicator">&nbsp;</div></body></html>